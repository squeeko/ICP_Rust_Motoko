{
  "version": 3,
  "sources": ["../../src/ledger.canister.ts", "../../candid/ledger.certified.idl.js", "../../candid/ledger.idl.js", "../../src/canisters/ledger/ledger.request.converts.ts", "../../src/errors/ledger.errors.ts"],
  "sourcesContent": ["import type { ActorSubclass, Agent } from \"@dfinity/agent\";\nimport type { Principal } from \"@dfinity/principal\";\nimport { createServices } from \"@dfinity/utils\";\nimport type { _SERVICE as LedgerService } from \"../candid/ledger\";\nimport { idlFactory as certifiedIdlFactory } from \"../candid/ledger.certified.idl\";\nimport { idlFactory } from \"../candid/ledger.idl\";\nimport type { AccountIdentifier } from \"./account_identifier\";\nimport {\n  subAccountNumbersToSubaccount,\n  toICPTs,\n  toTransferRawRequest,\n} from \"./canisters/ledger/ledger.request.converts\";\nimport { MAINNET_LEDGER_CANISTER_ID } from \"./constants/canister_ids\";\nimport { TRANSACTION_FEE } from \"./constants/constants\";\nimport {\n  mapTransferError,\n  mapTransferProtoError,\n} from \"./errors/ledger.errors\";\nimport type { BlockHeight } from \"./types/common\";\nimport type {\n  LedgerCanisterCall,\n  LedgerCanisterOptions,\n} from \"./types/ledger.options\";\nimport type { TransferRequest } from \"./types/ledger_converters\";\nimport { importNnsProto, queryCall, updateCall } from \"./utils/proto.utils\";\n\nexport class LedgerCanister {\n  private constructor(\n    private readonly agent: Agent,\n    private readonly canisterId: Principal,\n    private readonly service: ActorSubclass<LedgerService>,\n    private readonly certifiedService: ActorSubclass<LedgerService>,\n    private readonly updateFetcher: LedgerCanisterCall,\n    private readonly queryFetcher: LedgerCanisterCall,\n    private readonly hardwareWallet: boolean = false,\n  ) {}\n\n  public static create(options: LedgerCanisterOptions = {}) {\n    const canisterId: Principal =\n      options.canisterId ?? MAINNET_LEDGER_CANISTER_ID;\n\n    const { service, certifiedService, agent } = createServices<LedgerService>({\n      options: {\n        ...options,\n        canisterId,\n      },\n      idlFactory,\n      certifiedIdlFactory,\n    });\n\n    return new LedgerCanister(\n      agent,\n      canisterId,\n      service,\n      certifiedService,\n      options.updateCallOverride ?? updateCall,\n      options.queryCallOverride ?? queryCall,\n      options.hardwareWallet,\n    );\n  }\n\n  /**\n   * Returns the balance of the specified account identifier.\n   *\n   * If `certified` is true, the request is fetched as an update call, otherwise\n   * it is fetched using a query call.\n   *\n   * @throws {@link Error}\n   */\n  public accountBalance = async ({\n    accountIdentifier,\n    certified = true,\n  }: {\n    accountIdentifier: AccountIdentifier;\n    certified?: boolean;\n  }): Promise<bigint> => {\n    if (this.hardwareWallet) {\n      return this.accountBalanceHardwareWallet({\n        accountIdentifier,\n        certified,\n      });\n    }\n    const service = certified ? this.certifiedService : this.service;\n    const tokens = await service.account_balance({\n      account: accountIdentifier.toUint8Array(),\n    });\n    return tokens.e8s;\n  };\n\n  /**\n   * Returns the transaction fee of the ledger canister\n   * @returns {BigInt}\n   */\n  public transactionFee = async () => {\n    const {\n      transfer_fee: { e8s },\n    } = await this.service.transfer_fee({});\n    return e8s;\n  };\n\n  /**\n   * Transfer ICP from the caller to the destination `accountIdentifier`.\n   * Returns the index of the block containing the tx if it was successful.\n   *\n   * @throws {@link TransferError}\n   */\n  public transfer = async (request: TransferRequest): Promise<BlockHeight> => {\n    if (this.hardwareWallet) {\n      return this.transferHardwareWallet(request);\n    }\n    // When candid is implemented, the previous lines will go away.\n    // But the transaction fee method is not supported by Ledger App yet.\n    if (request.fee === undefined) {\n      request.fee = this.hardwareWallet\n        ? TRANSACTION_FEE\n        : await this.transactionFee();\n    }\n    const rawRequest = toTransferRawRequest(request);\n    const response = await this.certifiedService.transfer(rawRequest);\n    if (\"Err\" in response) {\n      throw mapTransferError(response.Err);\n    }\n    return response.Ok;\n  };\n\n  private accountBalanceHardwareWallet = async ({\n    accountIdentifier,\n    certified = true,\n  }: {\n    accountIdentifier: AccountIdentifier;\n    certified?: boolean;\n  }): Promise<bigint> => {\n    const callMethod = certified ? this.updateFetcher : this.queryFetcher;\n\n    const { AccountBalanceRequest: AccountBalanceRequestConstructor, ICPTs } =\n      await importNnsProto();\n\n    const request = new AccountBalanceRequestConstructor();\n    request.setAccount(await accountIdentifier.toProto());\n\n    const responseBytes = await callMethod({\n      agent: this.agent,\n      canisterId: this.canisterId,\n      methodName: \"account_balance_pb\",\n      arg: request.serializeBinary(),\n    });\n\n    return BigInt(\n      ICPTs.deserializeBinary(new Uint8Array(responseBytes)).getE8s(),\n    );\n  };\n\n  private transferHardwareWallet = async ({\n    to,\n    amount,\n    memo,\n    fee,\n    fromSubAccount,\n    createdAt,\n  }: TransferRequest): Promise<BlockHeight> => {\n    const { SendRequest, Payment, Memo, TimeStamp, BlockHeight } =\n      await importNnsProto();\n\n    const request = new SendRequest();\n    request.setTo(await to.toProto());\n\n    const payment = new Payment();\n    payment.setReceiverGets(await toICPTs(amount));\n    request.setPayment(payment);\n\n    request.setMaxFee(await toICPTs(fee ?? TRANSACTION_FEE));\n\n    // Always explicitly set the memo for compatibility with ledger wallet - hardware wallet\n    const requestMemo = new Memo();\n    requestMemo.setMemo((memo ?? BigInt(0)).toString());\n    request.setMemo(requestMemo);\n\n    if (createdAt !== undefined) {\n      const timestamp = new TimeStamp();\n      timestamp.setTimestampNanos(createdAt.toString());\n      request.setCreatedAtTime(timestamp);\n    }\n\n    if (fromSubAccount !== undefined) {\n      request.setFromSubaccount(\n        await subAccountNumbersToSubaccount(fromSubAccount),\n      );\n    }\n\n    try {\n      const responseBytes = await this.updateFetcher({\n        agent: this.agent,\n        canisterId: this.canisterId,\n        methodName: \"send_pb\",\n        arg: request.serializeBinary(),\n      });\n\n      // Successful tx. Return the block height.\n      return BigInt(BlockHeight.deserializeBinary(responseBytes).getHeight());\n    } catch (err) {\n      if (err instanceof Error) {\n        throw mapTransferProtoError(err);\n      }\n\n      throw err;\n    }\n  };\n}\n", "/* Do not edit.  Compiled with ./scripts/compile-idl-js from packages/nns/candid/ledger.did */\nexport const idlFactory = ({ IDL }) => {\n  const SubAccount = IDL.Vec(IDL.Nat8);\n  const Account = IDL.Record({\n    'owner' : IDL.Principal,\n    'subaccount' : IDL.Opt(SubAccount),\n  });\n  const UpgradeArgs = IDL.Record({\n    'maximum_number_of_accounts' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n  });\n  const Tokens = IDL.Record({ 'e8s' : IDL.Nat64 });\n  const TextAccountIdentifier = IDL.Text;\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\n  const ArchiveOptions = IDL.Record({\n    'num_blocks_to_archive' : IDL.Nat64,\n    'trigger_threshold' : IDL.Nat64,\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'cycles_for_archive_creation' : IDL.Opt(IDL.Nat64),\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat64),\n    'controller_id' : IDL.Principal,\n  });\n  const InitArgs = IDL.Record({\n    'send_whitelist' : IDL.Vec(IDL.Principal),\n    'token_symbol' : IDL.Opt(IDL.Text),\n    'transfer_fee' : IDL.Opt(Tokens),\n    'minting_account' : TextAccountIdentifier,\n    'transaction_window' : IDL.Opt(Duration),\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n    'archive_options' : IDL.Opt(ArchiveOptions),\n    'initial_values' : IDL.Vec(IDL.Tuple(TextAccountIdentifier, Tokens)),\n    'token_name' : IDL.Opt(IDL.Text),\n  });\n  const LedgerCanisterPayload = IDL.Variant({\n    'Upgrade' : IDL.Opt(UpgradeArgs),\n    'Init' : InitArgs,\n  });\n  const BlockIndex = IDL.Nat64;\n  const GetBlocksArgs = IDL.Record({\n    'start' : BlockIndex,\n    'length' : IDL.Nat64,\n  });\n  const Memo = IDL.Nat64;\n  const AccountIdentifier = IDL.Vec(IDL.Nat8);\n  const TimeStamp = IDL.Record({ 'timestamp_nanos' : IDL.Nat64 });\n  const Operation = IDL.Variant({\n    'Approve' : IDL.Record({\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'allowance_e8s' : IDL.Int,\n      'expires_at' : IDL.Opt(TimeStamp),\n      'spender' : AccountIdentifier,\n    }),\n    'Burn' : IDL.Record({ 'from' : AccountIdentifier, 'amount' : Tokens }),\n    'Mint' : IDL.Record({ 'to' : AccountIdentifier, 'amount' : Tokens }),\n    'Transfer' : IDL.Record({\n      'to' : AccountIdentifier,\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'amount' : Tokens,\n    }),\n    'TransferFrom' : IDL.Record({\n      'to' : AccountIdentifier,\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'amount' : Tokens,\n      'spender' : AccountIdentifier,\n    }),\n  });\n  const Transaction = IDL.Record({\n    'memo' : Memo,\n    'icrc1_memo' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'operation' : IDL.Opt(Operation),\n    'created_at_time' : TimeStamp,\n  });\n  const Block = IDL.Record({\n    'transaction' : Transaction,\n    'timestamp' : TimeStamp,\n    'parent_hash' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n  });\n  const BlockRange = IDL.Record({ 'blocks' : IDL.Vec(Block) });\n  const QueryArchiveError = IDL.Variant({\n    'BadFirstBlockIndex' : IDL.Record({\n      'requested_index' : BlockIndex,\n      'first_valid_index' : BlockIndex,\n    }),\n    'Other' : IDL.Record({\n      'error_message' : IDL.Text,\n      'error_code' : IDL.Nat64,\n    }),\n  });\n  const QueryArchiveResult = IDL.Variant({\n    'Ok' : BlockRange,\n    'Err' : QueryArchiveError,\n  });\n  const QueryArchiveFn = IDL.Func([GetBlocksArgs], [QueryArchiveResult], []);\n  const QueryBlocksResponse = IDL.Record({\n    'certificate' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'blocks' : IDL.Vec(Block),\n    'chain_length' : IDL.Nat64,\n    'first_block_index' : BlockIndex,\n    'archived_blocks' : IDL.Vec(\n      IDL.Record({\n        'callback' : QueryArchiveFn,\n        'start' : BlockIndex,\n        'length' : IDL.Nat64,\n      })\n    ),\n  });\n  const AccountBalanceArgs = IDL.Record({ 'account' : AccountIdentifier });\n  const AccountBalanceArgsDfx = IDL.Record({\n    'account' : TextAccountIdentifier,\n  });\n  const Archive = IDL.Record({ 'canister_id' : IDL.Principal });\n  const Archives = IDL.Record({ 'archives' : IDL.Vec(Archive) });\n  const Icrc1Tokens = IDL.Nat;\n  const Value = IDL.Variant({\n    'Int' : IDL.Int,\n    'Nat' : IDL.Nat,\n    'Blob' : IDL.Vec(IDL.Nat8),\n    'Text' : IDL.Text,\n  });\n  const Icrc1Timestamp = IDL.Nat64;\n  const TransferArg = IDL.Record({\n    'to' : Account,\n    'fee' : IDL.Opt(Icrc1Tokens),\n    'memo' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(Icrc1Timestamp),\n    'amount' : Icrc1Tokens,\n  });\n  const Icrc1BlockIndex = IDL.Nat;\n  const Icrc1TransferError = IDL.Variant({\n    'GenericError' : IDL.Record({\n      'message' : IDL.Text,\n      'error_code' : IDL.Nat,\n    }),\n    'TemporarilyUnavailable' : IDL.Null,\n    'BadBurn' : IDL.Record({ 'min_burn_amount' : Icrc1Tokens }),\n    'Duplicate' : IDL.Record({ 'duplicate_of' : Icrc1BlockIndex }),\n    'BadFee' : IDL.Record({ 'expected_fee' : Icrc1Tokens }),\n    'CreatedInFuture' : IDL.Record({ 'ledger_time' : IDL.Nat64 }),\n    'TooOld' : IDL.Null,\n    'InsufficientFunds' : IDL.Record({ 'balance' : Icrc1Tokens }),\n  });\n  const Icrc1TransferResult = IDL.Variant({\n    'Ok' : Icrc1BlockIndex,\n    'Err' : Icrc1TransferError,\n  });\n  const SendArgs = IDL.Record({\n    'to' : TextAccountIdentifier,\n    'fee' : Tokens,\n    'memo' : Memo,\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(TimeStamp),\n    'amount' : Tokens,\n  });\n  const TransferArgs = IDL.Record({\n    'to' : AccountIdentifier,\n    'fee' : Tokens,\n    'memo' : Memo,\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(TimeStamp),\n    'amount' : Tokens,\n  });\n  const TransferError = IDL.Variant({\n    'TxTooOld' : IDL.Record({ 'allowed_window_nanos' : IDL.Nat64 }),\n    'BadFee' : IDL.Record({ 'expected_fee' : Tokens }),\n    'TxDuplicate' : IDL.Record({ 'duplicate_of' : BlockIndex }),\n    'TxCreatedInFuture' : IDL.Null,\n    'InsufficientFunds' : IDL.Record({ 'balance' : Tokens }),\n  });\n  const TransferResult = IDL.Variant({\n    'Ok' : BlockIndex,\n    'Err' : TransferError,\n  });\n  const TransferFeeArg = IDL.Record({});\n  const TransferFee = IDL.Record({ 'transfer_fee' : Tokens });\n  return IDL.Service({\n    '_blocks' : IDL.Func([GetBlocksArgs], [QueryBlocksResponse], []),\n    'account_balance' : IDL.Func([AccountBalanceArgs], [Tokens], []),\n    'account_balance_dfx' : IDL.Func([AccountBalanceArgsDfx], [Tokens], []),\n    'archives' : IDL.Func([], [Archives], []),\n    'decimals' : IDL.Func([], [IDL.Record({ 'decimals' : IDL.Nat32 })], []),\n    'icrc1_balance_of' : IDL.Func([Account], [Icrc1Tokens], []),\n    'icrc1_decimals' : IDL.Func([], [IDL.Nat8], []),\n    'icrc1_fee' : IDL.Func([], [Icrc1Tokens], []),\n    'icrc1_metadata' : IDL.Func([], [IDL.Vec(IDL.Tuple(IDL.Text, Value))], []),\n    'icrc1_minting_account' : IDL.Func([], [IDL.Opt(Account)], []),\n    'icrc1_name' : IDL.Func([], [IDL.Text], []),\n    'icrc1_supported_standards' : IDL.Func(\n        [],\n        [IDL.Vec(IDL.Record({ 'url' : IDL.Text, 'name' : IDL.Text }))],\n        [],\n      ),\n    'icrc1_symbol' : IDL.Func([], [IDL.Text], []),\n    'icrc1_total_supply' : IDL.Func([], [Icrc1Tokens], []),\n    'icrc1_transfer' : IDL.Func([TransferArg], [Icrc1TransferResult], []),\n    'name' : IDL.Func([], [IDL.Record({ 'name' : IDL.Text })], []),\n    'send_dfx' : IDL.Func([SendArgs], [BlockIndex], []),\n    'symbol' : IDL.Func([], [IDL.Record({ 'symbol' : IDL.Text })], []),\n    'transfer' : IDL.Func([TransferArgs], [TransferResult], []),\n    'transfer_fee' : IDL.Func([TransferFeeArg], [TransferFee], []),\n  });\n};\nexport const init = ({ IDL }) => {\n  const SubAccount = IDL.Vec(IDL.Nat8);\n  const Account = IDL.Record({\n    'owner' : IDL.Principal,\n    'subaccount' : IDL.Opt(SubAccount),\n  });\n  const UpgradeArgs = IDL.Record({\n    'maximum_number_of_accounts' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n  });\n  const Tokens = IDL.Record({ 'e8s' : IDL.Nat64 });\n  const TextAccountIdentifier = IDL.Text;\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\n  const ArchiveOptions = IDL.Record({\n    'num_blocks_to_archive' : IDL.Nat64,\n    'trigger_threshold' : IDL.Nat64,\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'cycles_for_archive_creation' : IDL.Opt(IDL.Nat64),\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat64),\n    'controller_id' : IDL.Principal,\n  });\n  const InitArgs = IDL.Record({\n    'send_whitelist' : IDL.Vec(IDL.Principal),\n    'token_symbol' : IDL.Opt(IDL.Text),\n    'transfer_fee' : IDL.Opt(Tokens),\n    'minting_account' : TextAccountIdentifier,\n    'transaction_window' : IDL.Opt(Duration),\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n    'archive_options' : IDL.Opt(ArchiveOptions),\n    'initial_values' : IDL.Vec(IDL.Tuple(TextAccountIdentifier, Tokens)),\n    'token_name' : IDL.Opt(IDL.Text),\n  });\n  const LedgerCanisterPayload = IDL.Variant({\n    'Upgrade' : IDL.Opt(UpgradeArgs),\n    'Init' : InitArgs,\n  });\n  return [LedgerCanisterPayload];\n};\n", "/* Do not edit.  Compiled with ./scripts/compile-idl-js from packages/nns/candid/ledger.did */\nexport const idlFactory = ({ IDL }) => {\n  const SubAccount = IDL.Vec(IDL.Nat8);\n  const Account = IDL.Record({\n    'owner' : IDL.Principal,\n    'subaccount' : IDL.Opt(SubAccount),\n  });\n  const UpgradeArgs = IDL.Record({\n    'maximum_number_of_accounts' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n  });\n  const Tokens = IDL.Record({ 'e8s' : IDL.Nat64 });\n  const TextAccountIdentifier = IDL.Text;\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\n  const ArchiveOptions = IDL.Record({\n    'num_blocks_to_archive' : IDL.Nat64,\n    'trigger_threshold' : IDL.Nat64,\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'cycles_for_archive_creation' : IDL.Opt(IDL.Nat64),\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat64),\n    'controller_id' : IDL.Principal,\n  });\n  const InitArgs = IDL.Record({\n    'send_whitelist' : IDL.Vec(IDL.Principal),\n    'token_symbol' : IDL.Opt(IDL.Text),\n    'transfer_fee' : IDL.Opt(Tokens),\n    'minting_account' : TextAccountIdentifier,\n    'transaction_window' : IDL.Opt(Duration),\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n    'archive_options' : IDL.Opt(ArchiveOptions),\n    'initial_values' : IDL.Vec(IDL.Tuple(TextAccountIdentifier, Tokens)),\n    'token_name' : IDL.Opt(IDL.Text),\n  });\n  const LedgerCanisterPayload = IDL.Variant({\n    'Upgrade' : IDL.Opt(UpgradeArgs),\n    'Init' : InitArgs,\n  });\n  const AccountIdentifier = IDL.Vec(IDL.Nat8);\n  const AccountBalanceArgs = IDL.Record({ 'account' : AccountIdentifier });\n  const AccountBalanceArgsDfx = IDL.Record({\n    'account' : TextAccountIdentifier,\n  });\n  const Archive = IDL.Record({ 'canister_id' : IDL.Principal });\n  const Archives = IDL.Record({ 'archives' : IDL.Vec(Archive) });\n  const Icrc1Tokens = IDL.Nat;\n  const Value = IDL.Variant({\n    'Int' : IDL.Int,\n    'Nat' : IDL.Nat,\n    'Blob' : IDL.Vec(IDL.Nat8),\n    'Text' : IDL.Text,\n  });\n  const Icrc1Timestamp = IDL.Nat64;\n  const TransferArg = IDL.Record({\n    'to' : Account,\n    'fee' : IDL.Opt(Icrc1Tokens),\n    'memo' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(Icrc1Timestamp),\n    'amount' : Icrc1Tokens,\n  });\n  const Icrc1BlockIndex = IDL.Nat;\n  const Icrc1TransferError = IDL.Variant({\n    'GenericError' : IDL.Record({\n      'message' : IDL.Text,\n      'error_code' : IDL.Nat,\n    }),\n    'TemporarilyUnavailable' : IDL.Null,\n    'BadBurn' : IDL.Record({ 'min_burn_amount' : Icrc1Tokens }),\n    'Duplicate' : IDL.Record({ 'duplicate_of' : Icrc1BlockIndex }),\n    'BadFee' : IDL.Record({ 'expected_fee' : Icrc1Tokens }),\n    'CreatedInFuture' : IDL.Record({ 'ledger_time' : IDL.Nat64 }),\n    'TooOld' : IDL.Null,\n    'InsufficientFunds' : IDL.Record({ 'balance' : Icrc1Tokens }),\n  });\n  const Icrc1TransferResult = IDL.Variant({\n    'Ok' : Icrc1BlockIndex,\n    'Err' : Icrc1TransferError,\n  });\n  const BlockIndex = IDL.Nat64;\n  const GetBlocksArgs = IDL.Record({\n    'start' : BlockIndex,\n    'length' : IDL.Nat64,\n  });\n  const Memo = IDL.Nat64;\n  const TimeStamp = IDL.Record({ 'timestamp_nanos' : IDL.Nat64 });\n  const Operation = IDL.Variant({\n    'Approve' : IDL.Record({\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'allowance_e8s' : IDL.Int,\n      'expires_at' : IDL.Opt(TimeStamp),\n      'spender' : AccountIdentifier,\n    }),\n    'Burn' : IDL.Record({ 'from' : AccountIdentifier, 'amount' : Tokens }),\n    'Mint' : IDL.Record({ 'to' : AccountIdentifier, 'amount' : Tokens }),\n    'Transfer' : IDL.Record({\n      'to' : AccountIdentifier,\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'amount' : Tokens,\n    }),\n    'TransferFrom' : IDL.Record({\n      'to' : AccountIdentifier,\n      'fee' : Tokens,\n      'from' : AccountIdentifier,\n      'amount' : Tokens,\n      'spender' : AccountIdentifier,\n    }),\n  });\n  const Transaction = IDL.Record({\n    'memo' : Memo,\n    'icrc1_memo' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'operation' : IDL.Opt(Operation),\n    'created_at_time' : TimeStamp,\n  });\n  const Block = IDL.Record({\n    'transaction' : Transaction,\n    'timestamp' : TimeStamp,\n    'parent_hash' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n  });\n  const BlockRange = IDL.Record({ 'blocks' : IDL.Vec(Block) });\n  const QueryArchiveError = IDL.Variant({\n    'BadFirstBlockIndex' : IDL.Record({\n      'requested_index' : BlockIndex,\n      'first_valid_index' : BlockIndex,\n    }),\n    'Other' : IDL.Record({\n      'error_message' : IDL.Text,\n      'error_code' : IDL.Nat64,\n    }),\n  });\n  const QueryArchiveResult = IDL.Variant({\n    'Ok' : BlockRange,\n    'Err' : QueryArchiveError,\n  });\n  const QueryArchiveFn = IDL.Func(\n      [GetBlocksArgs],\n      [QueryArchiveResult],\n      ['query'],\n    );\n  const QueryBlocksResponse = IDL.Record({\n    'certificate' : IDL.Opt(IDL.Vec(IDL.Nat8)),\n    'blocks' : IDL.Vec(Block),\n    'chain_length' : IDL.Nat64,\n    'first_block_index' : BlockIndex,\n    'archived_blocks' : IDL.Vec(\n      IDL.Record({\n        'callback' : QueryArchiveFn,\n        'start' : BlockIndex,\n        'length' : IDL.Nat64,\n      })\n    ),\n  });\n  const SendArgs = IDL.Record({\n    'to' : TextAccountIdentifier,\n    'fee' : Tokens,\n    'memo' : Memo,\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(TimeStamp),\n    'amount' : Tokens,\n  });\n  const TransferArgs = IDL.Record({\n    'to' : AccountIdentifier,\n    'fee' : Tokens,\n    'memo' : Memo,\n    'from_subaccount' : IDL.Opt(SubAccount),\n    'created_at_time' : IDL.Opt(TimeStamp),\n    'amount' : Tokens,\n  });\n  const TransferError = IDL.Variant({\n    'TxTooOld' : IDL.Record({ 'allowed_window_nanos' : IDL.Nat64 }),\n    'BadFee' : IDL.Record({ 'expected_fee' : Tokens }),\n    'TxDuplicate' : IDL.Record({ 'duplicate_of' : BlockIndex }),\n    'TxCreatedInFuture' : IDL.Null,\n    'InsufficientFunds' : IDL.Record({ 'balance' : Tokens }),\n  });\n  const TransferResult = IDL.Variant({\n    'Ok' : BlockIndex,\n    'Err' : TransferError,\n  });\n  const TransferFeeArg = IDL.Record({});\n  const TransferFee = IDL.Record({ 'transfer_fee' : Tokens });\n  return IDL.Service({\n    'account_balance' : IDL.Func([AccountBalanceArgs], [Tokens], ['query']),\n    'account_balance_dfx' : IDL.Func(\n        [AccountBalanceArgsDfx],\n        [Tokens],\n        ['query'],\n      ),\n    'archives' : IDL.Func([], [Archives], ['query']),\n    'decimals' : IDL.Func(\n        [],\n        [IDL.Record({ 'decimals' : IDL.Nat32 })],\n        ['query'],\n      ),\n    'icrc1_balance_of' : IDL.Func([Account], [Icrc1Tokens], ['query']),\n    'icrc1_decimals' : IDL.Func([], [IDL.Nat8], ['query']),\n    'icrc1_fee' : IDL.Func([], [Icrc1Tokens], ['query']),\n    'icrc1_metadata' : IDL.Func(\n        [],\n        [IDL.Vec(IDL.Tuple(IDL.Text, Value))],\n        ['query'],\n      ),\n    'icrc1_minting_account' : IDL.Func([], [IDL.Opt(Account)], ['query']),\n    'icrc1_name' : IDL.Func([], [IDL.Text], ['query']),\n    'icrc1_supported_standards' : IDL.Func(\n        [],\n        [IDL.Vec(IDL.Record({ 'url' : IDL.Text, 'name' : IDL.Text }))],\n        ['query'],\n      ),\n    'icrc1_symbol' : IDL.Func([], [IDL.Text], ['query']),\n    'icrc1_total_supply' : IDL.Func([], [Icrc1Tokens], ['query']),\n    'icrc1_transfer' : IDL.Func([TransferArg], [Icrc1TransferResult], []),\n    'name' : IDL.Func([], [IDL.Record({ 'name' : IDL.Text })], ['query']),\n    'query_blocks' : IDL.Func(\n        [GetBlocksArgs],\n        [QueryBlocksResponse],\n        ['query'],\n      ),\n    'send_dfx' : IDL.Func([SendArgs], [BlockIndex], []),\n    'symbol' : IDL.Func([], [IDL.Record({ 'symbol' : IDL.Text })], ['query']),\n    'transfer' : IDL.Func([TransferArgs], [TransferResult], []),\n    'transfer_fee' : IDL.Func([TransferFeeArg], [TransferFee], ['query']),\n  });\n};\nexport const init = ({ IDL }) => {\n  const SubAccount = IDL.Vec(IDL.Nat8);\n  const Account = IDL.Record({\n    'owner' : IDL.Principal,\n    'subaccount' : IDL.Opt(SubAccount),\n  });\n  const UpgradeArgs = IDL.Record({\n    'maximum_number_of_accounts' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n  });\n  const Tokens = IDL.Record({ 'e8s' : IDL.Nat64 });\n  const TextAccountIdentifier = IDL.Text;\n  const Duration = IDL.Record({ 'secs' : IDL.Nat64, 'nanos' : IDL.Nat32 });\n  const ArchiveOptions = IDL.Record({\n    'num_blocks_to_archive' : IDL.Nat64,\n    'trigger_threshold' : IDL.Nat64,\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'cycles_for_archive_creation' : IDL.Opt(IDL.Nat64),\n    'node_max_memory_size_bytes' : IDL.Opt(IDL.Nat64),\n    'controller_id' : IDL.Principal,\n  });\n  const InitArgs = IDL.Record({\n    'send_whitelist' : IDL.Vec(IDL.Principal),\n    'token_symbol' : IDL.Opt(IDL.Text),\n    'transfer_fee' : IDL.Opt(Tokens),\n    'minting_account' : TextAccountIdentifier,\n    'transaction_window' : IDL.Opt(Duration),\n    'max_message_size_bytes' : IDL.Opt(IDL.Nat64),\n    'icrc1_minting_account' : IDL.Opt(Account),\n    'archive_options' : IDL.Opt(ArchiveOptions),\n    'initial_values' : IDL.Vec(IDL.Tuple(TextAccountIdentifier, Tokens)),\n    'token_name' : IDL.Opt(IDL.Text),\n  });\n  const LedgerCanisterPayload = IDL.Variant({\n    'Upgrade' : IDL.Opt(UpgradeArgs),\n    'Init' : InitArgs,\n  });\n  return [LedgerCanisterPayload];\n};\n", "import type { ICPTs, Subaccount } from \"@dfinity/nns-proto\";\nimport { arrayOfNumberToUint8Array } from \"@dfinity/utils\";\nimport type {\n  Tokens,\n  TransferArgs as TransferRawRequest,\n} from \"../../../candid/ledger\";\nimport { TRANSACTION_FEE } from \"../../constants/constants\";\nimport type { TransferRequest } from \"../../types/ledger_converters\";\nimport { importNnsProto } from \"../../utils/proto.utils\";\n\nexport const subAccountNumbersToSubaccount = async (\n  subAccountNumbers: number[],\n): Promise<Subaccount> => {\n  const bytes = new Uint8Array(subAccountNumbers).buffer;\n  const { Subaccount: SubaccountConstructor } = await importNnsProto();\n  const subaccount: Subaccount = new SubaccountConstructor();\n  subaccount.setSubAccount(new Uint8Array(bytes));\n  return subaccount;\n};\n\nexport const toICPTs = async (amount: bigint): Promise<ICPTs> => {\n  const { ICPTs: ICPTsConstructor } = await importNnsProto();\n  const result = new ICPTsConstructor();\n  result.setE8s(amount.toString(10));\n  return result;\n};\n\nconst e8sToTokens = (e8s: bigint): Tokens => ({ e8s });\n\nexport const toTransferRawRequest = ({\n  to,\n  amount,\n  memo,\n  fee,\n  fromSubAccount,\n  createdAt,\n}: TransferRequest): TransferRawRequest => ({\n  to: to.toUint8Array(),\n  fee: e8sToTokens(fee ?? TRANSACTION_FEE),\n  amount: e8sToTokens(amount),\n  // Always explicitly set the memo for compatibility with ledger wallet - hardware wallet\n  memo: memo ?? BigInt(0),\n  created_at_time:\n    createdAt !== undefined ? [{ timestamp_nanos: createdAt }] : [],\n  from_subaccount:\n    fromSubAccount === undefined\n      ? []\n      : [arrayOfNumberToUint8Array(fromSubAccount)],\n});\n", "import { convertStringToE8s } from \"@dfinity/utils\";\nimport type { TransferError as RawTransferError } from \"../../candid/ledger\";\nimport type { BlockHeight } from \"../types/common\";\n\nexport class TransferError extends Error {}\n\nexport class InvalidSenderError extends TransferError {}\n\nexport class InsufficientFundsError extends TransferError {\n  constructor(public readonly balance: bigint) {\n    super();\n  }\n}\n\nexport class TxTooOldError extends TransferError {\n  constructor(public readonly allowed_window_secs: number) {\n    super();\n  }\n}\n\nexport class TxCreatedInFutureError extends TransferError {}\n\nexport class TxDuplicateError extends TransferError {\n  constructor(public readonly duplicateOf: BlockHeight) {\n    super();\n  }\n}\n\nexport class BadFeeError extends TransferError {\n  constructor(public readonly expectedFee: bigint) {\n    super();\n  }\n}\n\nexport const mapTransferError = (\n  rawTransferError: RawTransferError,\n): TransferError => {\n  if (\"TxDuplicate\" in rawTransferError) {\n    return new TxDuplicateError(rawTransferError.TxDuplicate.duplicate_of);\n  }\n  if (\"InsufficientFunds\" in rawTransferError) {\n    return new InsufficientFundsError(\n      rawTransferError.InsufficientFunds.balance.e8s,\n    );\n  }\n  if (\"TxCreatedInFuture\" in rawTransferError) {\n    return new TxCreatedInFutureError();\n  }\n  if (\"TxTooOld\" in rawTransferError) {\n    return new TxTooOldError(\n      Number(rawTransferError.TxTooOld.allowed_window_nanos),\n    );\n  }\n  if (\"BadFee\" in rawTransferError) {\n    return new BadFeeError(rawTransferError.BadFee.expected_fee.e8s);\n  }\n  // Edge case\n  return new TransferError(\n    `Unknown error type ${JSON.stringify(rawTransferError)}`,\n  );\n};\n\nexport const mapTransferProtoError = (responseBytes: Error): TransferError => {\n  const { message } = responseBytes;\n\n  if (message.includes(\"Reject code: 5\")) {\n    // Match against the different error types.\n    // This string matching is fragile. It's a stop-gap solution until\n    // we migrate to the candid interface.\n\n    if (message.match(/Sending from (.*) is not allowed/)) {\n      return new InvalidSenderError();\n    }\n\n    {\n      const m = message.match(/transaction.*duplicate.* in block (\\d+)/);\n      if (m && m.length > 1) {\n        return new TxDuplicateError(BigInt(m[1]));\n      }\n    }\n\n    {\n      const m = message.match(\n        /debit account.*, current balance: (\\d*(\\.\\d*)?)/,\n      );\n      if (m && m.length > 1) {\n        const balance = convertStringToE8s(m[1]);\n        if (typeof balance === \"bigint\") {\n          return new InsufficientFundsError(balance);\n        }\n      }\n    }\n\n    if (message.includes(\"is in future\")) {\n      return new TxCreatedInFutureError();\n    }\n\n    {\n      const m = message.match(/older than (\\d+)/);\n      if (m && m.length > 1) {\n        return new TxTooOldError(Number.parseInt(m[1]));\n      }\n    }\n  }\n\n  // Unknown error. Throw as-is.\n  throw responseBytes;\n};\n"],
  "mappings": "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",
  "names": ["createServices", "idlFactory", "IDL", "SubAccount", "Account", "UpgradeArgs", "Tokens", "TextAccountIdentifier", "Duration", "ArchiveOptions", "InitArgs", "LedgerCanisterPayload", "BlockIndex", "GetBlocksArgs", "Memo", "AccountIdentifier", "TimeStamp", "Operation", "Transaction", "Block", "BlockRange", "QueryArchiveError", "QueryArchiveResult", "QueryArchiveFn", "QueryBlocksResponse", "AccountBalanceArgs", "AccountBalanceArgsDfx", "Archive", "Archives", "Icrc1Tokens", "Value", "Icrc1Timestamp", "TransferArg", "Icrc1BlockIndex", "Icrc1TransferError", "Icrc1TransferResult", "SendArgs", "TransferArgs", "TransferError", "TransferResult", "TransferFeeArg", "TransferFee", "idlFactory", "IDL", "SubAccount", "Account", "UpgradeArgs", "Tokens", "TextAccountIdentifier", "Duration", "ArchiveOptions", "InitArgs", "LedgerCanisterPayload", "AccountIdentifier", "AccountBalanceArgs", "AccountBalanceArgsDfx", "Archive", "Archives", "Icrc1Tokens", "Value", "Icrc1Timestamp", "TransferArg", "Icrc1BlockIndex", "Icrc1TransferError", "Icrc1TransferResult", "BlockIndex", "GetBlocksArgs", "Memo", "TimeStamp", "Operation", "Transaction", "Block", "BlockRange", "QueryArchiveError", "QueryArchiveResult", "QueryArchiveFn", "QueryBlocksResponse", "SendArgs", "TransferArgs", "TransferError", "TransferResult", "TransferFeeArg", "TransferFee", "arrayOfNumberToUint8Array", "subAccountNumbersToSubaccount", "subAccountNumbers", "bytes", "SubaccountConstructor", "importNnsProto", "subaccount", "toICPTs", "amount", "ICPTsConstructor", "result", "e8sToTokens", "e8s", "toTransferRawRequest", "to", "memo", "fee", "fromSubAccount", "createdAt", "TRANSACTION_FEE", "arrayOfNumberToUint8Array", "convertStringToE8s", "TransferError", "InvalidSenderError", "InsufficientFundsError", "balance", "TxTooOldError", "allowed_window_secs", "TxCreatedInFutureError", "TxDuplicateError", "duplicateOf", "BadFeeError", "expectedFee", "mapTransferError", "rawTransferError", "mapTransferProtoError", "responseBytes", "message", "m", "LedgerCanister", "agent", "canisterId", "service", "certifiedService", "updateFetcher", "queryFetcher", "hardwareWallet", "options", "MAINNET_LEDGER_CANISTER_ID", "createServices", "idlFactory", "updateCall", "queryCall", "accountIdentifier", "certified", "e8s", "request", "TRANSACTION_FEE", "rawRequest", "toTransferRawRequest", "response", "mapTransferError", "callMethod", "AccountBalanceRequestConstructor", "ICPTs", "importNnsProto", "responseBytes", "to", "amount", "memo", "fee", "fromSubAccount", "createdAt", "SendRequest", "Payment", "Memo", "TimeStamp", "BlockHeight", "payment", "toICPTs", "requestMemo", "timestamp", "subAccountNumbersToSubaccount", "err", "mapTransferProtoError"]
}
