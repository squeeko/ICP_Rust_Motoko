import{a as Cn,b as Pn,c as te,d as Te}from"./chunk-4SFQPNVV.js";import{b as An}from"./chunk-DGJWOAUC.js";import{a as S,b as ke}from"./chunk-FCMD5MHU.js";import{a as Mn}from"./chunk-ZMUQLPST.js";import{a as Se,b as Tn}from"./chunk-Q3ETFEQV.js";var Fn=Se(Ce=>{"use strict";Ce.byteLength=ar;Ce.toByteArray=sr;Ce.fromByteArray=dr;var A=[],T=[],rr=typeof Uint8Array<"u"?Uint8Array:Array,rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(L=0,Vn=rn.length;L<Vn;++L)A[L]=rn[L],T[rn.charCodeAt(L)]=L;var L,Vn;T["-".charCodeAt(0)]=62;T["_".charCodeAt(0)]=63;function En(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var o=n===t?0:4-n%4;return[n,o]}function ar(e){var t=En(e),n=t[0],o=t[1];return(n+o)*3/4-o}function ir(e,t,n){return(t+n)*3/4-n}function sr(e){var t,n=En(e),o=n[0],r=n[1],a=new rr(ir(e,o,r)),i=0,c=r>0?o-4:o,d;for(d=0;d<c;d+=4)t=T[e.charCodeAt(d)]<<18|T[e.charCodeAt(d+1)]<<12|T[e.charCodeAt(d+2)]<<6|T[e.charCodeAt(d+3)],a[i++]=t>>16&255,a[i++]=t>>8&255,a[i++]=t&255;return r===2&&(t=T[e.charCodeAt(d)]<<2|T[e.charCodeAt(d+1)]>>4,a[i++]=t&255),r===1&&(t=T[e.charCodeAt(d)]<<10|T[e.charCodeAt(d+1)]<<4|T[e.charCodeAt(d+2)]>>2,a[i++]=t>>8&255,a[i++]=t&255),a}function cr(e){return A[e>>18&63]+A[e>>12&63]+A[e>>6&63]+A[e&63]}function ur(e,t,n){for(var o,r=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),r.push(cr(o));return r.join("")}function dr(e){for(var t,n=e.length,o=n%3,r=[],a=16383,i=0,c=n-o;i<c;i+=a)r.push(ur(e,i,i+a>c?c:i+a));return o===1?(t=e[n-1],r.push(A[t>>2]+A[t<<4&63]+"==")):o===2&&(t=(e[n-2]<<8)+e[n-1],r.push(A[t>>10]+A[t>>4&63]+A[t<<2&63]+"=")),r.join("")}});var Bn=Se(an=>{an.read=function(e,t,n,o,r){var a,i,c=r*8-o-1,d=(1<<c)-1,m=d>>1,f=-7,_=n?r-1:0,y=n?-1:1,g=e[t+_];for(_+=y,a=g&(1<<-f)-1,g>>=-f,f+=c;f>0;a=a*256+e[t+_],_+=y,f-=8);for(i=a&(1<<-f)-1,a>>=-f,f+=o;f>0;i=i*256+e[t+_],_+=y,f-=8);if(a===0)a=1-m;else{if(a===d)return i?NaN:(g?-1:1)*(1/0);i=i+Math.pow(2,o),a=a-m}return(g?-1:1)*i*Math.pow(2,a-o)};an.write=function(e,t,n,o,r,a){var i,c,d,m=a*8-r-1,f=(1<<m)-1,_=f>>1,y=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:a-1,k=o?1:-1,l=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,i=f):(i=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-i))<1&&(i--,d*=2),i+_>=1?t+=y/d:t+=y*Math.pow(2,1-_),t*d>=2&&(i++,d/=2),i+_>=f?(c=0,i=f):i+_>=1?(c=(t*d-1)*Math.pow(2,r),i=i+_):(c=t*Math.pow(2,_-1)*Math.pow(2,r),i=0));r>=8;e[n+g]=c&255,g+=k,c/=256,r-=8);for(i=i<<r|c,m+=r;m>0;e[n+g]=i&255,g+=k,i/=256,m-=8);e[n+g-k]|=l*128}});var mn=Se(oe=>{"use strict";var sn=Fn(),ne=Bn(),qn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;oe.Buffer=s;oe.SlowBuffer=wr;oe.INSPECT_MAX_BYTES=50;var Pe=2147483647;oe.kMaxLength=Pe;s.TYPED_ARRAY_SUPPORT=pr();!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pr(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}});Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function G(e){if(e>Pe)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pn(e)}return Hn(e,t,n)}s.poolSize=8192;function Hn(e,t,n){if(typeof e=="string")return _r(e,t);if(ArrayBuffer.isView(e))return mr(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return un(e,t,n);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var o=e.valueOf&&e.valueOf();if(o!=null&&o!==e)return s.from(o,t,n);var r=fr(e);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}s.from=function(e,t,n){return Hn(e,t,n)};Object.setPrototypeOf(s.prototype,Uint8Array.prototype);Object.setPrototypeOf(s,Uint8Array);function Wn(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function lr(e,t,n){return Wn(e),e<=0?G(e):t!==void 0?typeof n=="string"?G(e).fill(t,n):G(e).fill(t):G(e)}s.alloc=function(e,t,n){return lr(e,t,n)};function pn(e){return Wn(e),G(e<0?0:ln(e)|0)}s.allocUnsafe=function(e){return pn(e)};s.allocUnsafeSlow=function(e){return pn(e)};function _r(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=Gn(e,t)|0,o=G(n),r=o.write(e,t);return r!==n&&(o=o.slice(0,r)),o}function cn(e){for(var t=e.length<0?0:ln(e.length)|0,n=G(t),o=0;o<t;o+=1)n[o]=e[o]&255;return n}function mr(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return un(t.buffer,t.byteOffset,t.byteLength)}return cn(e)}function un(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var o;return t===void 0&&n===void 0?o=new Uint8Array(e):n===void 0?o=new Uint8Array(e,t):o=new Uint8Array(e,t,n),Object.setPrototypeOf(o,s.prototype),o}function fr(e){if(s.isBuffer(e)){var t=ln(e.length)|0,n=G(t);return n.length===0||e.copy(n,0,0,t),n}if(e.length!==void 0)return typeof e.length!="number"||_n(e.length)?G(0):cn(e);if(e.type==="Buffer"&&Array.isArray(e.data))return cn(e.data)}function ln(e){if(e>=Pe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pe.toString(16)+" bytes");return e|0}function wr(e){return+e!=e&&(e=0),s.alloc(+e)}s.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==s.prototype};s.compare=function(t,n){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),V(n,Uint8Array)&&(n=s.from(n,n.offset,n.byteLength)),!s.isBuffer(t)||!s.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var o=t.length,r=n.length,a=0,i=Math.min(o,r);a<i;++a)if(t[a]!==n[a]){o=t[a],r=n[a];break}return o<r?-1:r<o?1:0};s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};s.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return s.alloc(0);var o;if(n===void 0)for(n=0,o=0;o<t.length;++o)n+=t[o].length;var r=s.allocUnsafe(n),a=0;for(o=0;o<t.length;++o){var i=t[o];if(V(i,Uint8Array))a+i.length>r.length?s.from(i).copy(r,a):Uint8Array.prototype.set.call(r,i,a);else if(s.isBuffer(i))i.copy(r,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=i.length}return r};function Gn(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&n===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return dn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Yn(e).length;default:if(r)return o?-1:dn(e).length;t=(""+t).toLowerCase(),r=!0}}s.byteLength=Gn;function Nr(e,t,n){var o=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return kr(this,t,n);case"utf8":case"utf-8":return zn(this,t,n);case"ascii":return br(this,t,n);case"latin1":case"binary":return xr(this,t,n);case"base64":return Or(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}s.prototype._isBuffer=!0;function ee(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)ee(this,n,n+1);return this};s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)ee(this,n,n+3),ee(this,n+1,n+2);return this};s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)ee(this,n,n+7),ee(this,n+1,n+6),ee(this,n+2,n+5),ee(this,n+3,n+4);return this};s.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?zn(this,0,t):Nr.apply(this,arguments)};s.prototype.toLocaleString=s.prototype.toString;s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:s.compare(this,t)===0};s.prototype.inspect=function(){var t="",n=oe.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"};qn&&(s.prototype[qn]=s.prototype.inspect);s.prototype.compare=function(t,n,o,r,a){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),o===void 0&&(o=t?t.length:0),r===void 0&&(r=0),a===void 0&&(a=this.length),n<0||o>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&n>=o)return 0;if(r>=a)return-1;if(n>=o)return 1;if(n>>>=0,o>>>=0,r>>>=0,a>>>=0,this===t)return 0;for(var i=a-r,c=o-n,d=Math.min(i,c),m=this.slice(r,a),f=t.slice(n,o),_=0;_<d;++_)if(m[_]!==f[_]){i=m[_],c=f[_];break}return i<c?-1:c<i?1:0};function jn(e,t,n,o,r){if(e.length===0)return-1;if(typeof n=="string"?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,_n(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0)if(r)n=0;else return-1;if(typeof t=="string"&&(t=s.from(t,o)),s.isBuffer(t))return t.length===0?-1:Un(e,t,n,o,r);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Un(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function Un(e,t,n,o,r){var a=1,i=e.length,c=t.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,i/=2,c/=2,n/=2}function d(g,k){return a===1?g[k]:g.readUInt16BE(k*a)}var m;if(r){var f=-1;for(m=n;m<i;m++)if(d(e,m)===d(t,f===-1?0:m-f)){if(f===-1&&(f=m),m-f+1===c)return f*a}else f!==-1&&(m-=m-f),f=-1}else for(n+c>i&&(n=i-c),m=n;m>=0;m--){for(var _=!0,y=0;y<c;y++)if(d(e,m+y)!==d(t,y)){_=!1;break}if(_)return m}return-1}s.prototype.includes=function(t,n,o){return this.indexOf(t,n,o)!==-1};s.prototype.indexOf=function(t,n,o){return jn(this,t,n,o,!0)};s.prototype.lastIndexOf=function(t,n,o){return jn(this,t,n,o,!1)};function yr(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o),o>r&&(o=r)):o=r;var a=t.length;o>a/2&&(o=a/2);for(var i=0;i<o;++i){var c=parseInt(t.substr(i*2,2),16);if(_n(c))return i;e[n+i]=c}return i}function gr(e,t,n,o){return Me(dn(t,e.length-n),e,n,o)}function Rr(e,t,n,o){return Me(Mr(t),e,n,o)}function vr(e,t,n,o){return Me(Yn(t),e,n,o)}function hr(e,t,n,o){return Me(Ar(t,e.length-n),e,n,o)}s.prototype.write=function(t,n,o,r){if(n===void 0)r="utf8",o=this.length,n=0;else if(o===void 0&&typeof n=="string")r=n,o=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(o)?(o=o>>>0,r===void 0&&(r="utf8")):(r=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-n;if((o===void 0||o>a)&&(o=a),t.length>0&&(o<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return yr(this,t,n,o);case"utf8":case"utf-8":return gr(this,t,n,o);case"ascii":case"latin1":case"binary":return Rr(this,t,n,o);case"base64":return vr(this,t,n,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hr(this,t,n,o);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}};s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Or(e,t,n){return t===0&&n===e.length?sn.fromByteArray(e):sn.fromByteArray(e.slice(t,n))}function zn(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var a=e[r],i=null,c=a>239?4:a>223?3:a>191?2:1;if(r+c<=n){var d,m,f,_;switch(c){case 1:a<128&&(i=a);break;case 2:d=e[r+1],(d&192)===128&&(_=(a&31)<<6|d&63,_>127&&(i=_));break;case 3:d=e[r+1],m=e[r+2],(d&192)===128&&(m&192)===128&&(_=(a&15)<<12|(d&63)<<6|m&63,_>2047&&(_<55296||_>57343)&&(i=_));break;case 4:d=e[r+1],m=e[r+2],f=e[r+3],(d&192)===128&&(m&192)===128&&(f&192)===128&&(_=(a&15)<<18|(d&63)<<12|(m&63)<<6|f&63,_>65535&&_<1114112&&(i=_))}}i===null?(i=65533,c=1):i>65535&&(i-=65536,o.push(i>>>10&1023|55296),i=56320|i&1023),o.push(i),r+=c}return Sr(o)}var Kn=4096;function Sr(e){var t=e.length;if(t<=Kn)return String.fromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=Kn));return n}function br(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]&127);return o}function xr(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function kr(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",a=t;a<n;++a)r+=Vr[e[a]];return r}function Tr(e,t,n){for(var o=e.slice(t,n),r="",a=0;a<o.length-1;a+=2)r+=String.fromCharCode(o[a]+o[a+1]*256);return r}s.prototype.slice=function(t,n){var o=this.length;t=~~t,n=n===void 0?o:~~n,t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),n<0?(n+=o,n<0&&(n=0)):n>o&&(n=o),n<t&&(n=t);var r=this.subarray(t,n);return Object.setPrototypeOf(r,s.prototype),r};function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(t,n,o){t=t>>>0,n=n>>>0,o||R(t,n,this.length);for(var r=this[t],a=1,i=0;++i<n&&(a*=256);)r+=this[t+i]*a;return r};s.prototype.readUintBE=s.prototype.readUIntBE=function(t,n,o){t=t>>>0,n=n>>>0,o||R(t,n,this.length);for(var r=this[t+--n],a=1;n>0&&(a*=256);)r+=this[t+--n]*a;return r};s.prototype.readUint8=s.prototype.readUInt8=function(t,n){return t=t>>>0,n||R(t,1,this.length),this[t]};s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||R(t,2,this.length),this[t]|this[t+1]<<8};s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||R(t,2,this.length),this[t]<<8|this[t+1]};s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||R(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};s.prototype.readIntLE=function(t,n,o){t=t>>>0,n=n>>>0,o||R(t,n,this.length);for(var r=this[t],a=1,i=0;++i<n&&(a*=256);)r+=this[t+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*n)),r};s.prototype.readIntBE=function(t,n,o){t=t>>>0,n=n>>>0,o||R(t,n,this.length);for(var r=n,a=1,i=this[t+--r];r>0&&(a*=256);)i+=this[t+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*n)),i};s.prototype.readInt8=function(t,n){return t=t>>>0,n||R(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};s.prototype.readInt16LE=function(t,n){t=t>>>0,n||R(t,2,this.length);var o=this[t]|this[t+1]<<8;return o&32768?o|4294901760:o};s.prototype.readInt16BE=function(t,n){t=t>>>0,n||R(t,2,this.length);var o=this[t+1]|this[t]<<8;return o&32768?o|4294901760:o};s.prototype.readInt32LE=function(t,n){return t=t>>>0,n||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};s.prototype.readInt32BE=function(t,n){return t=t>>>0,n||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};s.prototype.readFloatLE=function(t,n){return t=t>>>0,n||R(t,4,this.length),ne.read(this,t,!0,23,4)};s.prototype.readFloatBE=function(t,n){return t=t>>>0,n||R(t,4,this.length),ne.read(this,t,!1,23,4)};s.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||R(t,8,this.length),ne.read(this,t,!0,52,8)};s.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||R(t,8,this.length),ne.read(this,t,!1,52,8)};function b(e,t,n,o,r,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,n,o,r){if(t=+t,n=n>>>0,o=o>>>0,!r){var a=Math.pow(2,8*o)-1;b(this,t,n,o,a,0)}var i=1,c=0;for(this[n]=t&255;++c<o&&(i*=256);)this[n+c]=t/i&255;return n+o};s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,n,o,r){if(t=+t,n=n>>>0,o=o>>>0,!r){var a=Math.pow(2,8*o)-1;b(this,t,n,o,a,0)}var i=o-1,c=1;for(this[n+i]=t&255;--i>=0&&(c*=256);)this[n+i]=t/c&255;return n+o};s.prototype.writeUint8=s.prototype.writeUInt8=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,1,255,0),this[n]=t&255,n+1};s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2};s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2};s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4};s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};s.prototype.writeIntLE=function(t,n,o,r){if(t=+t,n=n>>>0,!r){var a=Math.pow(2,8*o-1);b(this,t,n,o,a-1,-a)}var i=0,c=1,d=0;for(this[n]=t&255;++i<o&&(c*=256);)t<0&&d===0&&this[n+i-1]!==0&&(d=1),this[n+i]=(t/c>>0)-d&255;return n+o};s.prototype.writeIntBE=function(t,n,o,r){if(t=+t,n=n>>>0,!r){var a=Math.pow(2,8*o-1);b(this,t,n,o,a-1,-a)}var i=o-1,c=1,d=0;for(this[n+i]=t&255;--i>=0&&(c*=256);)t<0&&d===0&&this[n+i+1]!==0&&(d=1),this[n+i]=(t/c>>0)-d&255;return n+o};s.prototype.writeInt8=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1};s.prototype.writeInt16LE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2};s.prototype.writeInt16BE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2};s.prototype.writeInt32LE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4};s.prototype.writeInt32BE=function(t,n,o){return t=+t,n=n>>>0,o||b(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function Jn(e,t,n,o,r,a){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $n(e,t,n,o,r){return t=+t,n=n>>>0,r||Jn(e,t,n,4,34028234663852886e22,-34028234663852886e22),ne.write(e,t,n,o,23,4),n+4}s.prototype.writeFloatLE=function(t,n,o){return $n(this,t,n,!0,o)};s.prototype.writeFloatBE=function(t,n,o){return $n(this,t,n,!1,o)};function Xn(e,t,n,o,r){return t=+t,n=n>>>0,r||Jn(e,t,n,8,17976931348623157e292,-17976931348623157e292),ne.write(e,t,n,o,52,8),n+8}s.prototype.writeDoubleLE=function(t,n,o){return Xn(this,t,n,!0,o)};s.prototype.writeDoubleBE=function(t,n,o){return Xn(this,t,n,!1,o)};s.prototype.copy=function(t,n,o,r){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(o||(o=0),!r&&r!==0&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<o&&(r=o),r===o||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-o&&(r=t.length-n+o);var a=r-o;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,o,r):Uint8Array.prototype.set.call(t,this.subarray(o,r),n),a};s.prototype.fill=function(t,n,o,r){if(typeof t=="string"){if(typeof n=="string"?(r=n,n=0,o=this.length):typeof o=="string"&&(r=o,o=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(t.length===1){var a=t.charCodeAt(0);(r==="utf8"&&a<128||r==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<o)throw new RangeError("Out of range index");if(o<=n)return this;n=n>>>0,o=o===void 0?this.length:o>>>0,t||(t=0);var i;if(typeof t=="number")for(i=n;i<o;++i)this[i]=t;else{var c=s.isBuffer(t)?t:s.from(t,r),d=c.length;if(d===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<o-n;++i)this[i+n]=c[i%d]}return this};var Cr=/[^+/0-9A-Za-z-_]/g;function Pr(e){if(e=e.split("=")[0],e=e.trim().replace(Cr,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function dn(e,t){t=t||1/0;for(var n,o=e.length,r=null,a=[],i=0;i<o;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(i+1===o){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return a}function Mr(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function Ar(e,t){for(var n,o,r,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),o=n>>8,r=n%256,a.push(r),a.push(o);return a}function Yn(e){return sn.toByteArray(Pr(e))}function Me(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function V(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function _n(e){return e!==e}var Vr=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var o=n*16,r=0;r<16;++r)t[o+r]=e[n]+e[r];return t}()});var In=Se((fn,Zn)=>{var Ae=mn(),j=Ae.Buffer;function Qn(e,t){for(var n in e)t[n]=e[n]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?Zn.exports=Ae:(Qn(Ae,fn),fn.Buffer=re);function re(e,t,n){return j(e,t,n)}Qn(j,re);re.from=function(e,t,n){if(typeof e=="number")throw new TypeError("Argument must not be a number");return j(e,t,n)};re.alloc=function(e,t,n){if(typeof e!="number")throw new TypeError("Argument must be a number");var o=j(e);return t!==void 0?typeof n=="string"?o.fill(t,n):o.fill(t):o.fill(0),o};re.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return j(e)};re.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ae.SlowBuffer(e)}});var Dn=Se((Za,Nn)=>{"use strict";var wn=65536,Er=4294967295;function Fr(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Br=In().Buffer,Ve=window.crypto||window.msCrypto;Ve&&Ve.getRandomValues?Nn.exports=qr:Nn.exports=Fr;function qr(e,t){if(e>Er)throw new RangeError("requested too many random bytes");var n=Br.allocUnsafe(e);if(e>0)if(e>wn)for(var o=0;o<e;o+=wn)Ve.getRandomValues(n.slice(o,o+wn));else Ve.getRandomValues(n);return typeof t=="function"?process.nextTick(function(){t(null,n)}):n}});import{arrayOfNumberToUint8Array as ja,asciiStringToByteArray as za,assertPercentageNumber as kn,createServices as Ja,fromNullable as x,isNullish as tr,nonNullish as M,uint8ArrayToBigInt as $a}from"@dfinity/utils";var nr=Tn(Dn());var Ln=({IDL:e})=>{let t=e.Rec(),n=e.Record({id:e.Nat64}),o=e.Record({followees:e.Vec(n)}),r=e.Record({hash:e.Vec(e.Nat8)}),a=e.Record({id:e.Opt(e.Principal),reward_account:e.Opt(r)}),i=e.Record({dissolve_delay_seconds:e.Nat64}),c=e.Record({to_account:e.Opt(r)}),d=e.Variant({RewardToNeuron:i,RewardToAccount:c}),m=e.Record({node_provider:e.Opt(a),reward_mode:e.Opt(d),amount_e8s:e.Nat64}),f=e.Record({timestamp:e.Nat64,rewards:e.Vec(m)}),_=e.Record({not_dissolving_neurons_e8s_buckets:e.Vec(e.Tuple(e.Nat64,e.Float64)),garbage_collectable_neurons_count:e.Nat64,neurons_with_invalid_stake_count:e.Nat64,not_dissolving_neurons_count_buckets:e.Vec(e.Tuple(e.Nat64,e.Nat64)),total_supply_icp:e.Nat64,neurons_with_less_than_6_months_dissolve_delay_count:e.Nat64,dissolved_neurons_count:e.Nat64,community_fund_total_maturity_e8s_equivalent:e.Nat64,total_staked_e8s:e.Nat64,not_dissolving_neurons_count:e.Nat64,total_locked_e8s:e.Nat64,dissolved_neurons_e8s:e.Nat64,neurons_with_less_than_6_months_dissolve_delay_e8s:e.Nat64,dissolving_neurons_count_buckets:e.Vec(e.Tuple(e.Nat64,e.Nat64)),dissolving_neurons_count:e.Nat64,dissolving_neurons_e8s_buckets:e.Vec(e.Tuple(e.Nat64,e.Float64)),community_fund_total_staked_e8s:e.Nat64,timestamp_seconds:e.Nat64}),y=e.Record({neuron_minimum_stake_e8s:e.Nat64,max_proposals_to_keep_per_topic:e.Nat32,neuron_management_fee_per_proposal_e8s:e.Nat64,reject_cost_e8s:e.Nat64,transaction_fee_e8s:e.Nat64,neuron_spawn_dissolve_delay_seconds:e.Nat64,minimum_icp_xdr_rate:e.Nat64,maximum_node_provider_rewards_e8s:e.Nat64}),g=e.Record({rounds_since_last_distribution:e.Opt(e.Nat64),day_after_genesis:e.Nat64,actual_timestamp_seconds:e.Nat64,total_available_e8s_equivalent:e.Nat64,latest_round_available_e8s_equivalent:e.Opt(e.Nat64),distributed_e8s_equivalent:e.Nat64,settled_proposals:e.Vec(n)}),k=e.Record({to_subaccount:e.Vec(e.Nat8),neuron_stake_e8s:e.Nat64,from:e.Opt(e.Principal),memo:e.Nat64,from_subaccount:e.Vec(e.Nat8),transfer_timestamp:e.Nat64,block_height:e.Nat64}),l=e.Record({error_message:e.Text,error_type:e.Int32}),je=e.Record({nns_neuron_id:e.Nat64,amount_icp_e8s:e.Nat64}),ze=e.Record({hotkey_principal:e.Text,cf_neurons:e.Vec(je)}),ie=e.Record({vote:e.Int32,voting_power:e.Nat64}),Je=e.Record({status:e.Opt(e.Int32),freezing_threshold:e.Opt(e.Nat64),controllers:e.Vec(e.Principal),memory_size:e.Opt(e.Nat64),cycles:e.Opt(e.Nat64),idle_cycles_burned_per_day:e.Opt(e.Nat64),module_hash:e.Vec(e.Nat8)}),O=e.Record({status:e.Opt(Je),canister_id:e.Opt(e.Principal)}),$e=e.Record({ledger_index_canister_summary:e.Opt(O),fallback_controller_principal_ids:e.Vec(e.Principal),ledger_archive_canister_summaries:e.Vec(O),ledger_canister_summary:e.Opt(O),swap_canister_summary:e.Opt(O),governance_canister_summary:e.Opt(O),root_canister_summary:e.Opt(O),dapp_canister_summaries:e.Vec(O)}),se=e.Record({swap_background_information:e.Opt($e)}),ce=e.Record({no:e.Nat64,yes:e.Nat64,total:e.Nat64,timestamp_seconds:e.Nat64}),Y=e.Record({name:e.Text,description:e.Opt(e.Text)}),ue=e.Record({id:e.Opt(n),known_neuron_data:e.Opt(Y)}),Xe=e.Record({percentage_to_spawn:e.Opt(e.Nat32),new_controller:e.Opt(e.Principal),nonce:e.Opt(e.Nat64)}),de=e.Record({amount_e8s:e.Nat64}),Ye=e.Record({topic:e.Int32,followees:e.Vec(n)}),pe=e.Record({controller:e.Opt(e.Principal),memo:e.Nat64}),Qe=e.Variant({NeuronIdOrSubaccount:e.Record({}),MemoAndController:pe,Memo:e.Nat64}),le=e.Record({by:e.Opt(Qe)}),Ze=e.Record({hot_key_to_remove:e.Opt(e.Principal)}),Ie=e.Record({new_hot_key:e.Opt(e.Principal)}),De=e.Record({requested_setting_for_auto_stake_maturity:e.Bool}),Le=e.Record({additional_dissolve_delay_seconds:e.Nat32}),et=e.Record({dissolve_timestamp_seconds:e.Nat64}),tt=e.Variant({RemoveHotKey:Ze,AddHotKey:Ie,ChangeAutoStakeMaturity:De,StopDissolving:e.Record({}),StartDissolving:e.Record({}),IncreaseDissolveDelay:Le,JoinCommunityFund:e.Record({}),LeaveCommunityFund:e.Record({}),SetDissolveTimestamp:et}),_e=e.Record({operation:e.Opt(tt)}),nt=e.Record({vote:e.Int32,proposal:e.Opt(n)}),u=e.Record({source_neuron_id:e.Opt(n)}),me=e.Record({dissolve_delay_seconds:e.Nat64,kyc_verified:e.Bool,amount_e8s:e.Nat64,new_controller:e.Opt(e.Principal),nonce:e.Nat64}),ot=e.Record({percentage_to_stake:e.Opt(e.Nat32)}),fe=e.Record({percentage_to_merge:e.Nat32}),rt=e.Record({e8s:e.Nat64}),we=e.Record({to_account:e.Opt(r),amount:e.Opt(rt)}),at=e.Variant({Spawn:Xe,Split:de,Follow:Ye,ClaimOrRefresh:le,Configure:_e,RegisterVote:nt,Merge:u,DisburseToNeuron:me,MakeProposal:t,StakeMaturity:ot,MergeMaturity:fe,Disburse:we}),Q=e.Variant({Subaccount:e.Vec(e.Nat8),NeuronId:n}),Z=e.Record({id:e.Opt(n),command:e.Opt(at),neuron_id_or_subaccount:e.Opt(Q)}),K=e.Record({basis_points:e.Opt(e.Nat64)}),w=e.Record({seconds:e.Opt(e.Nat64)}),N=e.Record({e8s:e.Opt(e.Nat64)}),it=e.Record({reward_rate_transition_duration:e.Opt(w),initial_reward_rate:e.Opt(K),final_reward_rate:e.Opt(K)}),st=e.Record({neuron_maximum_dissolve_delay_bonus:e.Opt(K),neuron_maximum_age_for_age_bonus:e.Opt(w),neuron_maximum_dissolve_delay:e.Opt(w),neuron_minimum_dissolve_delay_to_vote:e.Opt(w),neuron_maximum_age_bonus:e.Opt(K),neuron_minimum_stake:e.Opt(N),proposal_wait_for_quiet_deadline_increase:e.Opt(w),proposal_initial_voting_period:e.Opt(w),proposal_rejection_fee:e.Opt(N),voting_reward_parameters:e.Opt(it)}),Ne=e.Record({base64_encoding:e.Opt(e.Text)}),ct=e.Record({transaction_fee:e.Opt(N),token_symbol:e.Opt(e.Text),token_logo:e.Opt(Ne),token_name:e.Opt(e.Text)}),ut=e.Record({id:e.Opt(e.Principal)}),dt=e.Record({dissolve_delay_interval:e.Opt(w),count:e.Opt(e.Nat64)}),pt=e.Record({seconds_after_utc_midnight:e.Opt(e.Nat64)}),lt=e.Record({iso_codes:e.Vec(e.Text)}),_t=e.Record({minimum_participants:e.Opt(e.Nat64),duration:e.Opt(w),neuron_basket_construction_parameters:e.Opt(dt),confirmation_text:e.Opt(e.Text),maximum_participant_icp:e.Opt(N),minimum_icp:e.Opt(N),minimum_participant_icp:e.Opt(N),start_time:e.Opt(pt),maximum_icp:e.Opt(N),neurons_fund_investment_icp:e.Opt(N),restricted_countries:e.Opt(lt)}),ye=e.Record({total:e.Opt(N)}),mt=e.Record({controller:e.Opt(e.Principal),dissolve_delay:e.Opt(w),memo:e.Opt(e.Nat64),vesting_period:e.Opt(w),stake:e.Opt(N)}),ft=e.Record({developer_neurons:e.Vec(mt)}),wt=e.Record({treasury_distribution:e.Opt(ye),developer_distribution:e.Opt(ft),swap_distribution:e.Opt(ye)}),Nt=e.Record({url:e.Opt(e.Text),governance_parameters:e.Opt(st),fallback_controller_principal_ids:e.Vec(e.Principal),logo:e.Opt(Ne),name:e.Opt(e.Text),ledger_parameters:e.Opt(ct),description:e.Opt(e.Text),dapp_canisters:e.Vec(ut),swap_parameters:e.Opt(_t),initial_token_distribution:e.Opt(wt)}),yt=e.Record({nns_function:e.Int32,payload:e.Vec(e.Nat8)}),gt=e.Record({dissolve_delay_interval_seconds:e.Nat64,count:e.Nat64}),Rt=e.Record({min_participant_icp_e8s:e.Nat64,neuron_basket_construction_parameters:e.Opt(gt),max_icp_e8s:e.Nat64,swap_due_timestamp_seconds:e.Nat64,min_participants:e.Nat32,sns_token_e8s:e.Nat64,sale_delay_seconds:e.Opt(e.Nat64),max_participant_icp_e8s:e.Nat64,min_icp_e8s:e.Nat64}),vt=e.Record({community_fund_investment_e8s:e.Opt(e.Nat64),target_swap_canister_id:e.Opt(e.Principal),params:e.Opt(Rt)}),ht=e.Record({start_timestamp_seconds:e.Nat64,end_timestamp_seconds:e.Nat64}),Ot=e.Record({open_time_window:e.Opt(ht)}),St=e.Record({request:e.Opt(Ot),swap_canister_id:e.Opt(e.Principal)}),bt=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o))}),ge=e.Record({use_registry_derived_rewards:e.Opt(e.Bool),rewards:e.Vec(m)}),xt=e.Record({principals:e.Vec(e.Principal)}),kt=e.Variant({ToRemove:a,ToAdd:a}),Tt=e.Record({change:e.Opt(kt)}),Ct=e.Record({motion_text:e.Text}),Pt=e.Variant({RegisterKnownNeuron:ue,ManageNeuron:Z,CreateServiceNervousSystem:Nt,ExecuteNnsFunction:yt,RewardNodeProvider:m,OpenSnsTokenSwap:vt,SetSnsTokenSwapOpenTimeWindow:St,SetDefaultFollowees:bt,RewardNodeProviders:ge,ManageNetworkEconomics:y,ApproveGenesisKyc:xt,AddOrRemoveNodeProvider:Tt,Motion:Ct});t.fill(e.Record({url:e.Text,title:e.Opt(e.Text),action:e.Opt(Pt),summary:e.Text}));let Mt=e.Record({current_deadline_timestamp_seconds:e.Nat64}),At=e.Record({id:e.Opt(n),failure_reason:e.Opt(l),cf_participants:e.Vec(ze),ballots:e.Vec(e.Tuple(e.Nat64,ie)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,derived_proposal_information:e.Opt(se),latest_tally:e.Opt(ce),sns_token_swap_lifecycle:e.Opt(e.Int32),decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),wait_for_quiet_state:e.Opt(Mt),executed_timestamp_seconds:e.Nat64,original_total_community_fund_maturity_e8s_equivalent:e.Opt(e.Nat64)}),Vt=e.Variant({Spawn:n,Split:de,Configure:_e,Merge:u,DisburseToNeuron:me,SyncCommand:e.Record({}),ClaimOrRefreshNeuron:le,MergeMaturity:fe,Disburse:we}),Et=e.Record({command:e.Opt(Vt),timestamp:e.Nat64}),Re=e.Record({vote:e.Int32,proposal_id:e.Opt(n)}),Ft=e.Variant({DissolveDelaySeconds:e.Nat64,WhenDissolvedTimestampSeconds:e.Nat64}),C=e.Record({id:e.Opt(n),staked_maturity_e8s_equivalent:e.Opt(e.Nat64),controller:e.Opt(e.Principal),recent_ballots:e.Vec(Re),kyc_verified:e.Bool,not_for_profit:e.Bool,maturity_e8s_equivalent:e.Nat64,cached_neuron_stake_e8s:e.Nat64,created_timestamp_seconds:e.Nat64,auto_stake_maturity:e.Opt(e.Bool),aging_since_timestamp_seconds:e.Nat64,hot_keys:e.Vec(e.Principal),account:e.Vec(e.Nat8),joined_community_fund_timestamp_seconds:e.Opt(e.Nat64),dissolve_state:e.Opt(Ft),followees:e.Vec(e.Tuple(e.Int32,o)),neuron_fees_e8s:e.Nat64,transfer:e.Opt(k),known_neuron_data:e.Opt(Y),spawn_at_timestamp_seconds:e.Opt(e.Nat64)}),or=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o)),most_recent_monthly_node_provider_rewards:e.Opt(f),maturity_modulation_last_updated_at_timestamp_seconds:e.Opt(e.Nat64),wait_for_quiet_threshold_seconds:e.Nat64,metrics:e.Opt(_),node_providers:e.Vec(a),cached_daily_maturity_modulation_basis_points:e.Opt(e.Int32),economics:e.Opt(y),spawning_neurons:e.Opt(e.Bool),latest_reward_event:e.Opt(g),to_claim_transfers:e.Vec(k),short_voting_period_seconds:e.Nat64,proposals:e.Vec(e.Tuple(e.Nat64,At)),in_flight_commands:e.Vec(e.Tuple(e.Nat64,Et)),neurons:e.Vec(e.Tuple(e.Nat64,C)),genesis_timestamp_seconds:e.Nat64}),H=e.Variant({Ok:e.Null,Err:l}),Bt=e.Variant({Error:l,NeuronId:n}),qt=e.Record({result:e.Opt(Bt)}),ve=e.Variant({Ok:C,Err:l}),Ut=e.Variant({Ok:_,Err:l}),Kt=e.Variant({Ok:ge,Err:l}),W=e.Record({dissolve_delay_seconds:e.Nat64,recent_ballots:e.Vec(Re),created_timestamp_seconds:e.Nat64,state:e.Int32,stake_e8s:e.Nat64,joined_community_fund_timestamp_seconds:e.Opt(e.Nat64),retrieved_at_timestamp_seconds:e.Nat64,known_neuron_data:e.Opt(Y),voting_power:e.Nat64,age_seconds:e.Nat64}),he=e.Variant({Ok:W,Err:l}),Ht=e.Variant({Ok:a,Err:l}),I=e.Record({id:e.Opt(n),status:e.Int32,topic:e.Int32,failure_reason:e.Opt(l),ballots:e.Vec(e.Tuple(e.Nat64,ie)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,deadline_timestamp_seconds:e.Opt(e.Nat64),failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,derived_proposal_information:e.Opt(se),latest_tally:e.Opt(ce),reward_status:e.Int32,decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),executed_timestamp_seconds:e.Nat64}),Wt=e.Record({known_neurons:e.Vec(ue)}),Gt=e.Record({neuron_ids:e.Vec(e.Nat64),include_neurons_readable_by_caller:e.Bool}),jt=e.Record({neuron_infos:e.Vec(e.Tuple(e.Nat64,W)),full_neurons:e.Vec(C)}),zt=e.Record({node_providers:e.Vec(a)}),Jt=e.Record({include_reward_status:e.Vec(e.Int32),before_proposal:e.Opt(n),limit:e.Nat32,exclude_topic:e.Vec(e.Int32),include_all_manage_neuron_proposals:e.Opt(e.Bool),include_status:e.Vec(e.Int32)}),$t=e.Record({proposal_info:e.Vec(I)}),D=e.Record({created_neuron_id:e.Opt(n)}),Xt=e.Record({refreshed_neuron_id:e.Opt(n)}),Yt=e.Record({target_neuron:e.Opt(C),source_neuron:e.Opt(C),target_neuron_info:e.Opt(W),source_neuron_info:e.Opt(W)}),Qt=e.Record({proposal_id:e.Opt(n)}),Zt=e.Record({maturity_e8s:e.Nat64,staked_maturity_e8s:e.Nat64}),It=e.Record({merged_maturity_e8s:e.Nat64,new_stake_e8s:e.Nat64}),Dt=e.Record({transfer_block_height:e.Nat64}),Lt=e.Variant({Error:l,Spawn:D,Split:D,Follow:e.Record({}),ClaimOrRefresh:Xt,Configure:e.Record({}),RegisterVote:e.Record({}),Merge:Yt,DisburseToNeuron:D,MakeProposal:Qt,StakeMaturity:Zt,MergeMaturity:It,Disburse:Dt}),Oe=e.Record({command:e.Opt(Lt)}),en=e.Record({sns_governance_canister_id:e.Opt(e.Principal)}),tn=e.Variant({Committed:en,Aborted:e.Record({})}),nn=e.Record({result:e.Opt(tn),open_sns_token_swap_proposal_id:e.Opt(e.Nat64)}),on=e.Record({reward_account:e.Opt(r)});return e.Service({claim_gtc_neurons:e.Func([e.Principal,e.Vec(n)],[H],[]),claim_or_refresh_neuron_from_account:e.Func([pe],[qt],[]),get_build_metadata:e.Func([],[e.Text],[]),get_full_neuron:e.Func([e.Nat64],[ve],[]),get_full_neuron_by_id_or_subaccount:e.Func([Q],[ve],[]),get_latest_reward_event:e.Func([],[g],[]),get_metrics:e.Func([],[Ut],[]),get_monthly_node_provider_rewards:e.Func([],[Kt],[]),get_most_recent_monthly_node_provider_rewards:e.Func([],[e.Opt(f)],[]),get_network_economics_parameters:e.Func([],[y],[]),get_neuron_ids:e.Func([],[e.Vec(e.Nat64)],[]),get_neuron_info:e.Func([e.Nat64],[he],[]),get_neuron_info_by_id_or_subaccount:e.Func([Q],[he],[]),get_node_provider_by_caller:e.Func([e.Null],[Ht],[]),get_pending_proposals:e.Func([],[e.Vec(I)],[]),get_proposal_info:e.Func([e.Nat64],[e.Opt(I)],[]),list_known_neurons:e.Func([],[Wt],[]),list_neurons:e.Func([Gt],[jt],[]),list_node_providers:e.Func([],[zt],[]),list_proposals:e.Func([Jt],[$t],[]),manage_neuron:e.Func([Z],[Oe],[]),settle_community_fund_participation:e.Func([nn],[H],[]),simulate_manage_neuron:e.Func([Z],[Oe],[]),transfer_gtc_neuron:e.Func([n,n],[H],[]),update_node_provider:e.Func([on],[H],[])})};var eo=({IDL:e})=>{let t=e.Rec(),n=e.Record({id:e.Nat64}),o=e.Record({followees:e.Vec(n)}),r=e.Record({hash:e.Vec(e.Nat8)}),a=e.Record({id:e.Opt(e.Principal),reward_account:e.Opt(r)}),i=e.Record({dissolve_delay_seconds:e.Nat64}),c=e.Record({to_account:e.Opt(r)}),d=e.Variant({RewardToNeuron:i,RewardToAccount:c}),m=e.Record({node_provider:e.Opt(a),reward_mode:e.Opt(d),amount_e8s:e.Nat64}),f=e.Record({timestamp:e.Nat64,rewards:e.Vec(m)}),_=e.Record({not_dissolving_neurons_e8s_buckets:e.Vec(e.Tuple(e.Nat64,e.Float64)),garbage_collectable_neurons_count:e.Nat64,neurons_with_invalid_stake_count:e.Nat64,not_dissolving_neurons_count_buckets:e.Vec(e.Tuple(e.Nat64,e.Nat64)),total_supply_icp:e.Nat64,neurons_with_less_than_6_months_dissolve_delay_count:e.Nat64,dissolved_neurons_count:e.Nat64,community_fund_total_maturity_e8s_equivalent:e.Nat64,total_staked_e8s:e.Nat64,not_dissolving_neurons_count:e.Nat64,total_locked_e8s:e.Nat64,dissolved_neurons_e8s:e.Nat64,neurons_with_less_than_6_months_dissolve_delay_e8s:e.Nat64,dissolving_neurons_count_buckets:e.Vec(e.Tuple(e.Nat64,e.Nat64)),dissolving_neurons_count:e.Nat64,dissolving_neurons_e8s_buckets:e.Vec(e.Tuple(e.Nat64,e.Float64)),community_fund_total_staked_e8s:e.Nat64,timestamp_seconds:e.Nat64}),y=e.Record({neuron_minimum_stake_e8s:e.Nat64,max_proposals_to_keep_per_topic:e.Nat32,neuron_management_fee_per_proposal_e8s:e.Nat64,reject_cost_e8s:e.Nat64,transaction_fee_e8s:e.Nat64,neuron_spawn_dissolve_delay_seconds:e.Nat64,minimum_icp_xdr_rate:e.Nat64,maximum_node_provider_rewards_e8s:e.Nat64}),g=e.Record({rounds_since_last_distribution:e.Opt(e.Nat64),day_after_genesis:e.Nat64,actual_timestamp_seconds:e.Nat64,total_available_e8s_equivalent:e.Nat64,latest_round_available_e8s_equivalent:e.Opt(e.Nat64),distributed_e8s_equivalent:e.Nat64,settled_proposals:e.Vec(n)}),k=e.Record({to_subaccount:e.Vec(e.Nat8),neuron_stake_e8s:e.Nat64,from:e.Opt(e.Principal),memo:e.Nat64,from_subaccount:e.Vec(e.Nat8),transfer_timestamp:e.Nat64,block_height:e.Nat64}),l=e.Record({error_message:e.Text,error_type:e.Int32}),je=e.Record({nns_neuron_id:e.Nat64,amount_icp_e8s:e.Nat64}),ze=e.Record({hotkey_principal:e.Text,cf_neurons:e.Vec(je)}),ie=e.Record({vote:e.Int32,voting_power:e.Nat64}),Je=e.Record({status:e.Opt(e.Int32),freezing_threshold:e.Opt(e.Nat64),controllers:e.Vec(e.Principal),memory_size:e.Opt(e.Nat64),cycles:e.Opt(e.Nat64),idle_cycles_burned_per_day:e.Opt(e.Nat64),module_hash:e.Vec(e.Nat8)}),O=e.Record({status:e.Opt(Je),canister_id:e.Opt(e.Principal)}),$e=e.Record({ledger_index_canister_summary:e.Opt(O),fallback_controller_principal_ids:e.Vec(e.Principal),ledger_archive_canister_summaries:e.Vec(O),ledger_canister_summary:e.Opt(O),swap_canister_summary:e.Opt(O),governance_canister_summary:e.Opt(O),root_canister_summary:e.Opt(O),dapp_canister_summaries:e.Vec(O)}),se=e.Record({swap_background_information:e.Opt($e)}),ce=e.Record({no:e.Nat64,yes:e.Nat64,total:e.Nat64,timestamp_seconds:e.Nat64}),Y=e.Record({name:e.Text,description:e.Opt(e.Text)}),ue=e.Record({id:e.Opt(n),known_neuron_data:e.Opt(Y)}),Xe=e.Record({percentage_to_spawn:e.Opt(e.Nat32),new_controller:e.Opt(e.Principal),nonce:e.Opt(e.Nat64)}),de=e.Record({amount_e8s:e.Nat64}),Ye=e.Record({topic:e.Int32,followees:e.Vec(n)}),pe=e.Record({controller:e.Opt(e.Principal),memo:e.Nat64}),Qe=e.Variant({NeuronIdOrSubaccount:e.Record({}),MemoAndController:pe,Memo:e.Nat64}),le=e.Record({by:e.Opt(Qe)}),Ze=e.Record({hot_key_to_remove:e.Opt(e.Principal)}),Ie=e.Record({new_hot_key:e.Opt(e.Principal)}),De=e.Record({requested_setting_for_auto_stake_maturity:e.Bool}),Le=e.Record({additional_dissolve_delay_seconds:e.Nat32}),et=e.Record({dissolve_timestamp_seconds:e.Nat64}),tt=e.Variant({RemoveHotKey:Ze,AddHotKey:Ie,ChangeAutoStakeMaturity:De,StopDissolving:e.Record({}),StartDissolving:e.Record({}),IncreaseDissolveDelay:Le,JoinCommunityFund:e.Record({}),LeaveCommunityFund:e.Record({}),SetDissolveTimestamp:et}),_e=e.Record({operation:e.Opt(tt)}),nt=e.Record({vote:e.Int32,proposal:e.Opt(n)}),u=e.Record({source_neuron_id:e.Opt(n)}),me=e.Record({dissolve_delay_seconds:e.Nat64,kyc_verified:e.Bool,amount_e8s:e.Nat64,new_controller:e.Opt(e.Principal),nonce:e.Nat64}),ot=e.Record({percentage_to_stake:e.Opt(e.Nat32)}),fe=e.Record({percentage_to_merge:e.Nat32}),rt=e.Record({e8s:e.Nat64}),we=e.Record({to_account:e.Opt(r),amount:e.Opt(rt)}),at=e.Variant({Spawn:Xe,Split:de,Follow:Ye,ClaimOrRefresh:le,Configure:_e,RegisterVote:nt,Merge:u,DisburseToNeuron:me,MakeProposal:t,StakeMaturity:ot,MergeMaturity:fe,Disburse:we}),Q=e.Variant({Subaccount:e.Vec(e.Nat8),NeuronId:n}),Z=e.Record({id:e.Opt(n),command:e.Opt(at),neuron_id_or_subaccount:e.Opt(Q)}),K=e.Record({basis_points:e.Opt(e.Nat64)}),w=e.Record({seconds:e.Opt(e.Nat64)}),N=e.Record({e8s:e.Opt(e.Nat64)}),it=e.Record({reward_rate_transition_duration:e.Opt(w),initial_reward_rate:e.Opt(K),final_reward_rate:e.Opt(K)}),st=e.Record({neuron_maximum_dissolve_delay_bonus:e.Opt(K),neuron_maximum_age_for_age_bonus:e.Opt(w),neuron_maximum_dissolve_delay:e.Opt(w),neuron_minimum_dissolve_delay_to_vote:e.Opt(w),neuron_maximum_age_bonus:e.Opt(K),neuron_minimum_stake:e.Opt(N),proposal_wait_for_quiet_deadline_increase:e.Opt(w),proposal_initial_voting_period:e.Opt(w),proposal_rejection_fee:e.Opt(N),voting_reward_parameters:e.Opt(it)}),Ne=e.Record({base64_encoding:e.Opt(e.Text)}),ct=e.Record({transaction_fee:e.Opt(N),token_symbol:e.Opt(e.Text),token_logo:e.Opt(Ne),token_name:e.Opt(e.Text)}),ut=e.Record({id:e.Opt(e.Principal)}),dt=e.Record({dissolve_delay_interval:e.Opt(w),count:e.Opt(e.Nat64)}),pt=e.Record({seconds_after_utc_midnight:e.Opt(e.Nat64)}),lt=e.Record({iso_codes:e.Vec(e.Text)}),_t=e.Record({minimum_participants:e.Opt(e.Nat64),duration:e.Opt(w),neuron_basket_construction_parameters:e.Opt(dt),confirmation_text:e.Opt(e.Text),maximum_participant_icp:e.Opt(N),minimum_icp:e.Opt(N),minimum_participant_icp:e.Opt(N),start_time:e.Opt(pt),maximum_icp:e.Opt(N),neurons_fund_investment_icp:e.Opt(N),restricted_countries:e.Opt(lt)}),ye=e.Record({total:e.Opt(N)}),mt=e.Record({controller:e.Opt(e.Principal),dissolve_delay:e.Opt(w),memo:e.Opt(e.Nat64),vesting_period:e.Opt(w),stake:e.Opt(N)}),ft=e.Record({developer_neurons:e.Vec(mt)}),wt=e.Record({treasury_distribution:e.Opt(ye),developer_distribution:e.Opt(ft),swap_distribution:e.Opt(ye)}),Nt=e.Record({url:e.Opt(e.Text),governance_parameters:e.Opt(st),fallback_controller_principal_ids:e.Vec(e.Principal),logo:e.Opt(Ne),name:e.Opt(e.Text),ledger_parameters:e.Opt(ct),description:e.Opt(e.Text),dapp_canisters:e.Vec(ut),swap_parameters:e.Opt(_t),initial_token_distribution:e.Opt(wt)}),yt=e.Record({nns_function:e.Int32,payload:e.Vec(e.Nat8)}),gt=e.Record({dissolve_delay_interval_seconds:e.Nat64,count:e.Nat64}),Rt=e.Record({min_participant_icp_e8s:e.Nat64,neuron_basket_construction_parameters:e.Opt(gt),max_icp_e8s:e.Nat64,swap_due_timestamp_seconds:e.Nat64,min_participants:e.Nat32,sns_token_e8s:e.Nat64,sale_delay_seconds:e.Opt(e.Nat64),max_participant_icp_e8s:e.Nat64,min_icp_e8s:e.Nat64}),vt=e.Record({community_fund_investment_e8s:e.Opt(e.Nat64),target_swap_canister_id:e.Opt(e.Principal),params:e.Opt(Rt)}),ht=e.Record({start_timestamp_seconds:e.Nat64,end_timestamp_seconds:e.Nat64}),Ot=e.Record({open_time_window:e.Opt(ht)}),St=e.Record({request:e.Opt(Ot),swap_canister_id:e.Opt(e.Principal)}),bt=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o))}),ge=e.Record({use_registry_derived_rewards:e.Opt(e.Bool),rewards:e.Vec(m)}),xt=e.Record({principals:e.Vec(e.Principal)}),kt=e.Variant({ToRemove:a,ToAdd:a}),Tt=e.Record({change:e.Opt(kt)}),Ct=e.Record({motion_text:e.Text}),Pt=e.Variant({RegisterKnownNeuron:ue,ManageNeuron:Z,CreateServiceNervousSystem:Nt,ExecuteNnsFunction:yt,RewardNodeProvider:m,OpenSnsTokenSwap:vt,SetSnsTokenSwapOpenTimeWindow:St,SetDefaultFollowees:bt,RewardNodeProviders:ge,ManageNetworkEconomics:y,ApproveGenesisKyc:xt,AddOrRemoveNodeProvider:Tt,Motion:Ct});t.fill(e.Record({url:e.Text,title:e.Opt(e.Text),action:e.Opt(Pt),summary:e.Text}));let Mt=e.Record({current_deadline_timestamp_seconds:e.Nat64}),At=e.Record({id:e.Opt(n),failure_reason:e.Opt(l),cf_participants:e.Vec(ze),ballots:e.Vec(e.Tuple(e.Nat64,ie)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,derived_proposal_information:e.Opt(se),latest_tally:e.Opt(ce),sns_token_swap_lifecycle:e.Opt(e.Int32),decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),wait_for_quiet_state:e.Opt(Mt),executed_timestamp_seconds:e.Nat64,original_total_community_fund_maturity_e8s_equivalent:e.Opt(e.Nat64)}),Vt=e.Variant({Spawn:n,Split:de,Configure:_e,Merge:u,DisburseToNeuron:me,SyncCommand:e.Record({}),ClaimOrRefreshNeuron:le,MergeMaturity:fe,Disburse:we}),Et=e.Record({command:e.Opt(Vt),timestamp:e.Nat64}),Re=e.Record({vote:e.Int32,proposal_id:e.Opt(n)}),Ft=e.Variant({DissolveDelaySeconds:e.Nat64,WhenDissolvedTimestampSeconds:e.Nat64}),C=e.Record({id:e.Opt(n),staked_maturity_e8s_equivalent:e.Opt(e.Nat64),controller:e.Opt(e.Principal),recent_ballots:e.Vec(Re),kyc_verified:e.Bool,not_for_profit:e.Bool,maturity_e8s_equivalent:e.Nat64,cached_neuron_stake_e8s:e.Nat64,created_timestamp_seconds:e.Nat64,auto_stake_maturity:e.Opt(e.Bool),aging_since_timestamp_seconds:e.Nat64,hot_keys:e.Vec(e.Principal),account:e.Vec(e.Nat8),joined_community_fund_timestamp_seconds:e.Opt(e.Nat64),dissolve_state:e.Opt(Ft),followees:e.Vec(e.Tuple(e.Int32,o)),neuron_fees_e8s:e.Nat64,transfer:e.Opt(k),known_neuron_data:e.Opt(Y),spawn_at_timestamp_seconds:e.Opt(e.Nat64)}),or=e.Record({default_followees:e.Vec(e.Tuple(e.Int32,o)),most_recent_monthly_node_provider_rewards:e.Opt(f),maturity_modulation_last_updated_at_timestamp_seconds:e.Opt(e.Nat64),wait_for_quiet_threshold_seconds:e.Nat64,metrics:e.Opt(_),node_providers:e.Vec(a),cached_daily_maturity_modulation_basis_points:e.Opt(e.Int32),economics:e.Opt(y),spawning_neurons:e.Opt(e.Bool),latest_reward_event:e.Opt(g),to_claim_transfers:e.Vec(k),short_voting_period_seconds:e.Nat64,proposals:e.Vec(e.Tuple(e.Nat64,At)),in_flight_commands:e.Vec(e.Tuple(e.Nat64,Et)),neurons:e.Vec(e.Tuple(e.Nat64,C)),genesis_timestamp_seconds:e.Nat64}),H=e.Variant({Ok:e.Null,Err:l}),Bt=e.Variant({Error:l,NeuronId:n}),qt=e.Record({result:e.Opt(Bt)}),ve=e.Variant({Ok:C,Err:l}),Ut=e.Variant({Ok:_,Err:l}),Kt=e.Variant({Ok:ge,Err:l}),W=e.Record({dissolve_delay_seconds:e.Nat64,recent_ballots:e.Vec(Re),created_timestamp_seconds:e.Nat64,state:e.Int32,stake_e8s:e.Nat64,joined_community_fund_timestamp_seconds:e.Opt(e.Nat64),retrieved_at_timestamp_seconds:e.Nat64,known_neuron_data:e.Opt(Y),voting_power:e.Nat64,age_seconds:e.Nat64}),he=e.Variant({Ok:W,Err:l}),Ht=e.Variant({Ok:a,Err:l}),I=e.Record({id:e.Opt(n),status:e.Int32,topic:e.Int32,failure_reason:e.Opt(l),ballots:e.Vec(e.Tuple(e.Nat64,ie)),proposal_timestamp_seconds:e.Nat64,reward_event_round:e.Nat64,deadline_timestamp_seconds:e.Opt(e.Nat64),failed_timestamp_seconds:e.Nat64,reject_cost_e8s:e.Nat64,derived_proposal_information:e.Opt(se),latest_tally:e.Opt(ce),reward_status:e.Int32,decided_timestamp_seconds:e.Nat64,proposal:e.Opt(t),proposer:e.Opt(n),executed_timestamp_seconds:e.Nat64}),Wt=e.Record({known_neurons:e.Vec(ue)}),Gt=e.Record({neuron_ids:e.Vec(e.Nat64),include_neurons_readable_by_caller:e.Bool}),jt=e.Record({neuron_infos:e.Vec(e.Tuple(e.Nat64,W)),full_neurons:e.Vec(C)}),zt=e.Record({node_providers:e.Vec(a)}),Jt=e.Record({include_reward_status:e.Vec(e.Int32),before_proposal:e.Opt(n),limit:e.Nat32,exclude_topic:e.Vec(e.Int32),include_all_manage_neuron_proposals:e.Opt(e.Bool),include_status:e.Vec(e.Int32)}),$t=e.Record({proposal_info:e.Vec(I)}),D=e.Record({created_neuron_id:e.Opt(n)}),Xt=e.Record({refreshed_neuron_id:e.Opt(n)}),Yt=e.Record({target_neuron:e.Opt(C),source_neuron:e.Opt(C),target_neuron_info:e.Opt(W),source_neuron_info:e.Opt(W)}),Qt=e.Record({proposal_id:e.Opt(n)}),Zt=e.Record({maturity_e8s:e.Nat64,staked_maturity_e8s:e.Nat64}),It=e.Record({merged_maturity_e8s:e.Nat64,new_stake_e8s:e.Nat64}),Dt=e.Record({transfer_block_height:e.Nat64}),Lt=e.Variant({Error:l,Spawn:D,Split:D,Follow:e.Record({}),ClaimOrRefresh:Xt,Configure:e.Record({}),RegisterVote:e.Record({}),Merge:Yt,DisburseToNeuron:D,MakeProposal:Qt,StakeMaturity:Zt,MergeMaturity:It,Disburse:Dt}),Oe=e.Record({command:e.Opt(Lt)}),en=e.Record({sns_governance_canister_id:e.Opt(e.Principal)}),tn=e.Variant({Committed:en,Aborted:e.Record({})}),nn=e.Record({result:e.Opt(tn),open_sns_token_swap_proposal_id:e.Opt(e.Nat64)}),on=e.Record({reward_account:e.Opt(r)});return e.Service({claim_gtc_neurons:e.Func([e.Principal,e.Vec(n)],[H],[]),claim_or_refresh_neuron_from_account:e.Func([pe],[qt],[]),get_build_metadata:e.Func([],[e.Text],["query"]),get_full_neuron:e.Func([e.Nat64],[ve],["query"]),get_full_neuron_by_id_or_subaccount:e.Func([Q],[ve],["query"]),get_latest_reward_event:e.Func([],[g],["query"]),get_metrics:e.Func([],[Ut],["query"]),get_monthly_node_provider_rewards:e.Func([],[Kt],[]),get_most_recent_monthly_node_provider_rewards:e.Func([],[e.Opt(f)],["query"]),get_network_economics_parameters:e.Func([],[y],["query"]),get_neuron_ids:e.Func([],[e.Vec(e.Nat64)],["query"]),get_neuron_info:e.Func([e.Nat64],[he],["query"]),get_neuron_info_by_id_or_subaccount:e.Func([Q],[he],["query"]),get_node_provider_by_caller:e.Func([e.Null],[Ht],["query"]),get_pending_proposals:e.Func([],[e.Vec(I)],["query"]),get_proposal_info:e.Func([e.Nat64],[e.Opt(I)],["query"]),list_known_neurons:e.Func([],[Wt],["query"]),list_neurons:e.Func([Gt],[jt],["query"]),list_node_providers:e.Func([],[zt],["query"]),list_proposals:e.Func([Jt],[$t],["query"]),manage_neuron:e.Func([Z],[Oe],[]),settle_community_fund_participation:e.Func([nn],[H],[]),simulate_manage_neuron:e.Func([Z],[Oe],[]),transfer_gtc_neuron:e.Func([n,n],[H],[]),update_node_provider:e.Func([on],[H],[])})};import{Principal as B}from"@dfinity/principal";import{arrayBufferToUint8Array as Gr,toNullable as ae}from"@dfinity/utils";var Ee=class extends Error{},Fe=class extends Ee{},Be=class extends Ee{constructor(n){super();this.minimumAmount=n}},z=class extends Error{},P=class extends Error{constructor(n){super();this.detail=n}},be=class extends Error{},v=class extends Error{constructor(t){super("Unsupported value: "+t)}},qe=class extends Error{};import{arrayOfNumberToUint8Array as Ur,asciiStringToByteArray as Kr,bigEndianCrc32 as Hr,uint8ArrayToHexString as Wr}from"@dfinity/utils";var yn=Tn(mn()),to=e=>Uint8Array.from(yn.Buffer.from(e,"hex")).subarray(4),no=e=>yn.Buffer.from(e).toString("hex"),oo=(e,t)=>{let n=Kr(`
account-id`),o=Pn.create();o.update(Ur([...n,...e.toUint8Array(),...t??Array(32).fill(0)]));let r=o.digest(),a=Hr(r),i=new Uint8Array([...a,...r]);return Wr(i)};var io=e=>({id:e}),gn=e=>({id:e}),jr=e=>({followees:e.map(gn)}),zr=e=>{if("NeuronId"in e)return{NeuronId:{id:e.NeuronId}};if("Subaccount"in e)return{Subaccount:Uint8Array.from(e.Subaccount)};throw new v(e)},Ue=e=>e.basisPoints!==void 0?{basis_points:[e.basisPoints]}:{basis_points:[]},E=e=>e.seconds!==void 0?{seconds:[e.seconds]}:{seconds:[]},Jr=e=>e.secondsAfterUtcMidnight!==void 0?{seconds_after_utc_midnight:[e.secondsAfterUtcMidnight]}:{seconds_after_utc_midnight:[]},$r=e=>({iso_codes:e.isoCodes}),F=e=>e.e8s!==void 0?{e8s:[e.e8s]}:{e8s:[]},so=e=>e.base64Encoding!==void 0?{base64_encoding:[e.base64Encoding]}:{base64_encoding:[]},Xr=e=>({reward_rate_transition_duration:e.rewardRateTransitionDuration!==void 0?[E(e.rewardRateTransitionDuration)]:[],initial_reward_rate:e.initialRewardRate!==void 0?[Ue(e.initialRewardRate)]:[],final_reward_rate:e.finalRewardRate!==void 0?[Ue(e.finalRewardRate)]:[]}),Yr=e=>({transaction_fee:e.transactionFee!==void 0?[F(e.transactionFee)]:[],token_symbol:e.tokenSymbol!==void 0?[e.tokenSymbol]:[],token_logo:e.tokenLogo!==void 0?[so(e.tokenLogo)]:[],token_name:e.tokenName!==void 0?[e.tokenName]:[]}),Qr=e=>({minimum_participants:e.minimumParticipants!==void 0?[e.minimumParticipants]:[],duration:e.duration!==void 0?[E(e.duration)]:[],neuron_basket_construction_parameters:e.neuronBasketConstructionParameters!==void 0?[Zr(e.neuronBasketConstructionParameters)]:[],confirmation_text:e.confirmationText!==void 0?[e.confirmationText]:[],maximum_participant_icp:e.maximumParticipantIcp!==void 0?[F(e.maximumParticipantIcp)]:[],neurons_fund_investment_icp:e.neuronsFundInvestmentIcp!==void 0?[F(e.neuronsFundInvestmentIcp)]:[],minimum_icp:e.minimumIcp!==void 0?[F(e.minimumIcp)]:[],minimum_participant_icp:e.minimumParticipantIcp!==void 0?[F(e.minimumParticipantIcp)]:[],start_time:e.startTime!==void 0?[Jr(e.startTime)]:[],maximum_icp:e.maximumIcp!==void 0?[F(e.maximumIcp)]:[],restricted_countries:e.restrictedCountries!==void 0?[$r(e.restrictedCountries)]:[]}),Zr=e=>({dissolve_delay_interval:e.dissolveDelayInterval!==void 0?[E(e.dissolveDelayInterval)]:[],count:e.count!==void 0?[e.count]:[]}),Ir=e=>({neuron_maximum_dissolve_delay_bonus:e.neuronMaximumDissolveDelayBonus!==void 0?[Ue(e.neuronMaximumDissolveDelayBonus)]:[],neuron_maximum_age_for_age_bonus:e.neuronMaximumAgeForAgeBonus!==void 0?[E(e.neuronMaximumAgeForAgeBonus)]:[],neuron_maximum_dissolve_delay:e.neuronMaximumDissolveDelay!==void 0?[E(e.neuronMaximumDissolveDelay)]:[],neuron_minimum_dissolve_delay_to_vote:e.neuronMinimumDissolveDelayToVote!==void 0?[E(e.neuronMinimumDissolveDelayToVote)]:[],neuron_maximum_age_bonus:e.neuronMaximumAgeBonus!==void 0?[Ue(e.neuronMaximumAgeBonus)]:[],neuron_minimum_stake:e.neuronMinimumStake!==void 0?[F(e.neuronMinimumStake)]:[],proposal_wait_for_quiet_deadline_increase:e.proposalWaitForQuietDeadlineIncrease!==void 0?[E(e.proposalWaitForQuietDeadlineIncrease)]:[],proposal_initial_voting_period:e.proposalInitialVotingPeriod!==void 0?[E(e.proposalInitialVotingPeriod)]:[],proposal_rejection_fee:e.proposalRejectionFee!==void 0?[F(e.proposalRejectionFee)]:[],voting_reward_parameters:e.votingRewardParameters!==void 0?[Xr(e.votingRewardParameters)]:[]}),ro=e=>({total:e.total!==void 0?[F(e.total)]:[]}),Dr=e=>({treasury_distribution:e.treasuryDistribution!==void 0?[ro(e.treasuryDistribution)]:[],developer_distribution:e.developerDistribution!==void 0?[ea(e.developerDistribution)]:[],swap_distribution:e.swapDistribution!==void 0?[ro(e.swapDistribution)]:[]}),Lr=e=>({controller:e.controller!==void 0?[B.fromText(e.controller)]:[],dissolve_delay:e.dissolveDelay!==void 0?[E(e.dissolveDelay)]:[],memo:e.memo!==void 0?[e.memo]:[],vesting_period:e.vestingPeriod!==void 0?[E(e.vestingPeriod)]:[],stake:e.stake!==void 0?[F(e.stake)]:[]}),ea=e=>({developer_neurons:e.developerNeurons.map(Lr)}),ta=e=>({url:e.url!==void 0?[e.url]:[],governance_parameters:e.governanceParameters!==void 0?[Ir(e.governanceParameters)]:[],fallback_controller_principal_ids:e.fallbackControllerPrincipalIds.map(B.fromText),logo:e.logo!==void 0?[so(e.logo)]:[],name:e.name!==void 0?[e.name]:[],ledger_parameters:e.ledgerParameters!==void 0?[Yr(e.ledgerParameters)]:[],description:e.description!==void 0?[e.description]:[],dapp_canisters:e.dappCanisters.map(t=>({id:[B.fromText(t)]})),swap_parameters:e.swapParameters!==void 0?[Qr(e.swapParameters)]:[],initial_token_distribution:e.initialTokenDistribution!==void 0?[Dr(e.initialTokenDistribution)]:[]}),co=e=>{if("ExecuteNnsFunction"in e){let t=e.ExecuteNnsFunction;if(t.payloadBytes===void 0)throw new Error("payloadBytes not found");return{ExecuteNnsFunction:{nns_function:t.nnsFunctionId,payload:Gr(t.payloadBytes)}}}if("ManageNeuron"in e){let t=e.ManageNeuron;return{ManageNeuron:ia(t)}}if("ApproveGenesisKyc"in e)return{ApproveGenesisKyc:{principals:e.ApproveGenesisKyc.principals.map(B.fromText)}};if("ManageNetworkEconomics"in e){let t=e.ManageNetworkEconomics;return{ManageNetworkEconomics:{neuron_minimum_stake_e8s:t.neuronMinimumStake,max_proposals_to_keep_per_topic:t.maxProposalsToKeepPerTopic,neuron_management_fee_per_proposal_e8s:t.neuronManagementFeePerProposal,reject_cost_e8s:t.rejectCost,transaction_fee_e8s:t.transactionFee,neuron_spawn_dissolve_delay_seconds:t.neuronSpawnDissolveDelaySeconds,minimum_icp_xdr_rate:t.minimumIcpXdrRate,maximum_node_provider_rewards_e8s:t.maximumNodeProviderRewards}}}if("RewardNodeProvider"in e){let t=e.RewardNodeProvider;return{RewardNodeProvider:{node_provider:t.nodeProvider?[Ke(t.nodeProvider)]:[],amount_e8s:t.amountE8s,reward_mode:t.rewardMode!=null?[ao(t.rewardMode)]:[]}}}if("RewardNodeProviders"in e){let t=e.RewardNodeProviders;return{RewardNodeProviders:{use_registry_derived_rewards:t.useRegistryDerivedRewards===void 0?[]:[t.useRegistryDerivedRewards],rewards:t.rewards.map(n=>({node_provider:n.nodeProvider?[Ke(n.nodeProvider)]:[],amount_e8s:n.amountE8s,reward_mode:n.rewardMode!=null?[ao(n.rewardMode)]:[]}))}}}if("AddOrRemoveNodeProvider"in e){let t=e.AddOrRemoveNodeProvider;return{AddOrRemoveNodeProvider:{change:t.change?[ra(t.change)]:[]}}}if("Motion"in e)return{Motion:{motion_text:e.Motion.motionText}};if("SetDefaultFollowees"in e)return{SetDefaultFollowees:{default_followees:e.SetDefaultFollowees.defaultFollowees.map(n=>[n.topic,jr(n.followees)])}};if("RegisterKnownNeuron"in e){let t=e.RegisterKnownNeuron;return{RegisterKnownNeuron:{id:[{id:t.id}],known_neuron_data:[{name:t.name,description:t.description!==void 0?[t.description]:[]}]}}}if("SetSnsTokenSwapOpenTimeWindow"in e){let{request:t,swapCanisterId:n}=e.SetSnsTokenSwapOpenTimeWindow;return{SetSnsTokenSwapOpenTimeWindow:{request:t===void 0?[]:[{open_time_window:t.openTimeWindow===void 0?[]:[{start_timestamp_seconds:t.openTimeWindow.startTimestampSeconds,end_timestamp_seconds:t.openTimeWindow.endTimestampSeconds}]}],swap_canister_id:n===void 0?[]:[B.fromText(n)]}}}if("OpenSnsTokenSwap"in e){let{communityFundInvestmentE8s:t,targetSwapCanisterId:n,params:o}=e.OpenSnsTokenSwap;return{OpenSnsTokenSwap:{community_fund_investment_e8s:ae(t),target_swap_canister_id:ae(n),params:o===void 0?[]:[{min_participant_icp_e8s:o.minParticipantIcpE8s,max_icp_e8s:o.maxIcpE8s,swap_due_timestamp_seconds:o.swapDueTimestampSeconds,min_participants:o.minParticipants,sns_token_e8s:o.snsTokenE8s,max_participant_icp_e8s:o.maxParticipantIcpE8s,min_icp_e8s:o.minIcpE8s,sale_delay_seconds:ae(o.saleDelaySeconds),neuron_basket_construction_parameters:ae(o.neuronBasketConstructionParameters)}]}}}if("CreateServiceNervousSystem"in e)return{CreateServiceNervousSystem:ta(e.CreateServiceNervousSystem)};throw new v(e)},na=e=>{if("Split"in e)return{Split:{amount_e8s:e.Split.amount}};if("Follow"in e){let t=e.Follow;return{Follow:{topic:t.topic,followees:t.followees.map(gn)}}}if("ClaimOrRefresh"in e){let t=e.ClaimOrRefresh;return{ClaimOrRefresh:{by:t.by?[aa(t.by)]:[]}}}if("Configure"in e){let t=e.Configure;return{Configure:{operation:t.operation?[oa(t.operation)]:[]}}}if("RegisterVote"in e){let t=e.RegisterVote;return{RegisterVote:{vote:t.vote,proposal:t.proposal?[io(t.proposal)]:[]}}}if("DisburseToNeuron"in e){let t=e.DisburseToNeuron;return{DisburseToNeuron:{dissolve_delay_seconds:t.dissolveDelaySeconds,kyc_verified:t.kycVerified,amount_e8s:t.amount,new_controller:t.newController?[B.fromText(t.newController)]:[],nonce:t.nonce}}}if("MergeMaturity"in e)return{MergeMaturity:{percentage_to_merge:e.MergeMaturity.percentageToMerge}};if("StakeMaturity"in e){let{percentageToStake:t}=e.StakeMaturity;return{StakeMaturity:{percentage_to_stake:ae(t)}}}if("MakeProposal"in e){let t=e.MakeProposal;return{MakeProposal:{url:t.url,title:[],action:t.action?[co(t.action)]:[],summary:t.summary}}}if("Disburse"in e){let t=e.Disburse;return{Disburse:{to_account:t.toAccountId?[Rn(t.toAccountId)]:[],amount:t.amount?[uo(t.amount)]:[]}}}if("Spawn"in e){let t=e.Spawn;return{Spawn:{percentage_to_spawn:t.percentageToSpawn===void 0?[]:[t.percentageToSpawn],new_controller:t.newController?[B.fromText(t.newController)]:[],nonce:[]}}}if("Merge"in e){let t=e.Merge;return{Merge:{source_neuron_id:t.sourceNeuronId?[{id:t.sourceNeuronId}]:[]}}}throw new v(e)},oa=e=>{if("RemoveHotKey"in e){let t=e.RemoveHotKey;return{RemoveHotKey:{hot_key_to_remove:t.hotKeyToRemove!=null?[B.fromText(t.hotKeyToRemove)]:[]}}}if("AddHotKey"in e){let t=e.AddHotKey;return{AddHotKey:{new_hot_key:t.newHotKey?[B.fromText(t.newHotKey)]:[]}}}if("StopDissolving"in e)return{StopDissolving:{}};if("StartDissolving"in e)return{StartDissolving:{}};if("IncreaseDissolveDelay"in e)return{IncreaseDissolveDelay:{additional_dissolve_delay_seconds:e.IncreaseDissolveDelay.additionalDissolveDelaySeconds}};if("JoinCommunityFund"in e||"LeaveCommunityFund"in e)return e;if("SetDissolveTimestamp"in e)return{SetDissolveTimestamp:{dissolve_timestamp_seconds:e.SetDissolveTimestamp.dissolveTimestampSeconds}};if("ChangeAutoStakeMaturity"in e){let{requestedSettingForAutoStakeMaturity:t}=e.ChangeAutoStakeMaturity;return{ChangeAutoStakeMaturity:{requested_setting_for_auto_stake_maturity:t}}}throw new v(e)},ra=e=>{if("ToRemove"in e)return{ToRemove:Ke(e.ToRemove)};if("ToAdd"in e)return{ToAdd:Ke(e.ToAdd)};throw new v(e)},Ke=e=>({id:e.id!=null?[B.fromText(e.id)]:[],reward_account:e.rewardAccount!=null?[Rn(e.rewardAccount)]:[]}),uo=e=>({e8s:e}),Rn=e=>({hash:to(e)}),ao=e=>{if("RewardToNeuron"in e)return{RewardToNeuron:{dissolve_delay_seconds:e.RewardToNeuron.dissolveDelaySeconds}};if("RewardToAccount"in e)return{RewardToAccount:{to_account:e.RewardToAccount.toAccount!=null?[Rn(e.RewardToAccount.toAccount)]:[]}};throw new v(e)},aa=e=>{if("NeuronIdOrSubaccount"in e)return{NeuronIdOrSubaccount:{}};if("Memo"in e)return{Memo:e.Memo};if("MemoAndController"in e)return{MemoAndController:{memo:e.MemoAndController.memo,controller:e.MemoAndController.controller?[e.MemoAndController.controller]:[]}};throw new v(e)},po=e=>({neuron_ids:BigUint64Array.from(e??[]),include_neurons_readable_by_caller:!e}),ia=({id:e,command:t,neuronIdOrSubaccount:n})=>({id:e?[gn(e)]:[],command:t?[na(t)]:[],neuron_id_or_subaccount:n?[zr(n)]:[]}),lo=({includeRewardStatus:e,beforeProposal:t,excludeTopic:n,includeStatus:o,limit:r,includeAllManageNeuronProposals:a})=>({include_reward_status:Int32Array.from(e),before_proposal:t?[io(t)]:[],limit:r,exclude_topic:Int32Array.from(n),include_all_manage_neuron_proposals:a!==void 0?[a]:[],include_status:Int32Array.from(o)}),_o=e=>({id:[],command:[{ClaimOrRefresh:{by:[{NeuronIdOrSubaccount:{}}]}}],neuron_id_or_subaccount:[{NeuronId:{id:e.neuronId}}]}),mo=({memo:e,controller:t})=>{let n={ClaimOrRefresh:{by:[{MemoAndController:{controller:t==null?[]:[t],memo:e}}]}};return{id:[],command:[n],neuron_id_or_subaccount:[]}},fo=({neuronId:e,amount:t})=>({id:[],command:[{Split:{amount_e8s:t}}],neuron_id_or_subaccount:[{NeuronId:{id:e}}]});var wo=({neuronId:e,vote:t,proposalId:n})=>$({neuronId:e,command:{RegisterVote:{vote:t,proposal:[{id:n}]}}}),No=e=>{let t={MakeProposal:{url:e.url,title:e.title!=null?[e.title]:[],summary:e.summary,action:[co(e.action)]}};return{id:[],command:[t],neuron_id_or_subaccount:[{NeuronId:{id:e.neuronId}}]}},yo=({neuronId:e,topic:t,followees:n})=>$({neuronId:e,command:{Follow:{topic:t,followees:n.map(o=>({id:o}))}}}),go=({neuronId:e,toAccountIdentifier:t,amount:n})=>$({neuronId:e,command:{Disburse:{to_account:t!==void 0?[t.toAccountIdentifierHash()]:[],amount:n!==void 0?[uo(n)]:[]}}}),Ro=({neuronId:e,percentageToMerge:t})=>$({neuronId:e,command:{MergeMaturity:{percentage_to_merge:t}}}),vo=({neuronId:e,percentageToStake:t})=>$({neuronId:e,command:{StakeMaturity:{percentage_to_stake:ae(t)}}}),ho=({neuronId:e,percentageToSpawn:t,newController:n,nonce:o})=>$({neuronId:e,command:{Spawn:{percentage_to_spawn:t===void 0?[]:[t],new_controller:n===void 0?[]:[n],nonce:o===void 0?[]:[o]}}}),Oo=({neuronId:e,principal:t})=>J({neuronId:e,operation:{AddHotKey:{new_hot_key:[t]}}}),So=({neuronId:e,principal:t})=>J({neuronId:e,operation:{RemoveHotKey:{hot_key_to_remove:[t]}}}),bo=({neuronId:e,additionalDissolveDelaySeconds:t})=>J({neuronId:e,operation:{IncreaseDissolveDelay:{additional_dissolve_delay_seconds:t}}}),xo=({neuronId:e,dissolveDelaySeconds:t})=>J({neuronId:e,operation:{SetDissolveTimestamp:{dissolve_timestamp_seconds:BigInt(t)}}}),ko=e=>J({neuronId:e,operation:{JoinCommunityFund:{}}}),To=({neuronId:e,autoStake:t})=>J({neuronId:e,operation:{ChangeAutoStakeMaturity:{requested_setting_for_auto_stake_maturity:t}}}),Co=e=>J({neuronId:e,operation:{LeaveCommunityFund:{}}}),vn=({sourceNeuronId:e,targetNeuronId:t})=>$({neuronId:t,command:{Merge:{source_neuron_id:[{id:e}]}}}),Po=e=>J({neuronId:e,operation:{StartDissolving:{}}}),Mo=e=>J({neuronId:e,operation:{StopDissolving:{}}}),$=({neuronId:e,command:t})=>({id:[{id:e}],command:[t],neuron_id_or_subaccount:[]}),J=({neuronId:e,operation:t})=>$({neuronId:e,command:{Configure:{operation:[t]}}});import{Principal as hn}from"@dfinity/principal";var Ao=async e=>{let{PrincipalId:t,ManageNeuron:n,NeuronId:o}=await S(),r=new t;r.setSerializedId(hn.fromText(e.principal).toUint8Array());let a=new n.AddHotKey;a.setNewHotKey(r);let i=new n.Configure;i.setAddHotKey(a);let c=new n;c.setConfigure(i);let d=new o;return d.setId(e.neuronId.toString()),c.setNeuronId(d),c},Vo=async e=>{let{PrincipalId:t,ManageNeuron:n,NeuronId:o}=await S(),r=new t;r.setSerializedId(hn.fromText(e.principal).toUint8Array());let a=new n.RemoveHotKey;a.setHotKeyToRemove(r);let i=new n.Configure;i.setRemoveHotKey(a);let c=new n;c.setConfigure(i);let d=new o;return d.setId(e.neuronId.toString()),c.setNeuronId(d),c},Eo=async({neuronId:e,additionalDissolveDelaySeconds:t})=>{let{ManageNeuron:n,NeuronId:o}=await S(),r=new n.IncreaseDissolveDelay;r.setAdditionalDissolveDelaySeconds(t);let a=new n.Configure;a.setIncreaseDissolveDelay(r);let i=new n;i.setConfigure(a);let c=new o;return c.setId(e.toString()),i.setNeuronId(c),i},Fo=async e=>{let{ManageNeuron:t,NeuronId:n}=await S(),o=new t.Configure;o.setStartDissolving(new t.StartDissolving);let r=new t;r.setConfigure(o);let a=new n;return a.setId(e.toString()),r.setNeuronId(a),r},Bo=async e=>{let{ManageNeuron:t,NeuronId:n}=await S(),o=new t.Configure;o.setStopDissolving(new t.StopDissolving);let r=new t;r.setConfigure(o);let a=new n;return a.setId(e.toString()),r.setNeuronId(a),r},qo=async e=>{let{ManageNeuron:t,NeuronId:n}=await S(),o=new t.Configure;o.setJoinCommunityFund(new t.JoinCommunityFund);let r=new t;r.setConfigure(o);let a=new n;return a.setId(e.toString()),r.setNeuronId(a),r},Uo=async e=>{let{ManageNeuron:t,NeuronId:n,AccountIdentifier:o}=await S(),r=new t.Disburse;if(e.toAccountId){let c=new o;c.setHash(Uint8Array.from(Buffer.from(e.toAccountId,"hex"))),r.setToAccount(c)}if(e.amount!=null){let c=new t.Disburse.Amount;c.setE8s(e.amount.toString()),r.setAmount(c)}let a=new t;a.setDisburse(r);let i=new n;return i.setId(e.neuronId.toString()),a.setNeuronId(i),a},Ko=async e=>{let{ManageNeuron:t,NeuronId:n}=await S(),o=new t.MergeMaturity;o.setPercentageToMerge(e.percentageToMerge);let r=new t,a=new n;return a.setId(e.neuronId.toString()),r.setNeuronId(a),r.setMergeMaturity(o),r},Ho=async e=>{let{ManageNeuron:t,NeuronId:n,PrincipalId:o}=await S(),r=new t.Spawn;if(e.newController){let c=new o;c.setSerializedId(hn.fromText(e.newController).toUint8Array().slice(4)),r.setNewController(c)}e.percentageToSpawn!==void 0&&r.setPercentageToSpawn(e.percentageToSpawn);let a=new t;a.setSpawn(r);let i=new n;return i.setId(e.neuronId.toString()),a.setNeuronId(i),a};import{Principal as la}from"@dfinity/principal";import{fromDefinedNullable as _a,fromNullable as p,uint8ArrayToArrayOfNumber as ma}from"@dfinity/utils";var Wo=(a=>(a[a.Unspecified=0]="Unspecified",a[a.Locked=1]="Locked",a[a.Dissolving=2]="Dissolving",a[a.Dissolved=3]="Dissolved",a[a.Spawning=4]="Spawning",a))(Wo||{}),sa=(l=>(l[l.Unspecified=0]="Unspecified",l[l.ManageNeuron=1]="ManageNeuron",l[l.ExchangeRate=2]="ExchangeRate",l[l.NetworkEconomics=3]="NetworkEconomics",l[l.Governance=4]="Governance",l[l.NodeAdmin=5]="NodeAdmin",l[l.ParticipantManagement=6]="ParticipantManagement",l[l.SubnetManagement=7]="SubnetManagement",l[l.NetworkCanisterManagement=8]="NetworkCanisterManagement",l[l.Kyc=9]="Kyc",l[l.NodeProviderRewards=10]="NodeProviderRewards",l[l.SnsDecentralizationSale=11]="SnsDecentralizationSale",l[l.SubnetReplicaVersionManagement=12]="SubnetReplicaVersionManagement",l[l.ReplicaVersionManagement=13]="ReplicaVersionManagement",l[l.SnsAndCommunityFund=14]="SnsAndCommunityFund",l))(sa||{}),ca=(a=>(a[a.Unknown=0]="Unknown",a[a.AcceptVotes=1]="AcceptVotes",a[a.ReadyToSettle=2]="ReadyToSettle",a[a.Settled=3]="Settled",a[a.Ineligible=4]="Ineligible",a))(ca||{}),ua=(i=>(i[i.Unknown=0]="Unknown",i[i.Open=1]="Open",i[i.Rejected=2]="Rejected",i[i.Accepted=3]="Accepted",i[i.Executed=4]="Executed",i[i.Failed=5]="Failed",i))(ua||{}),da=(o=>(o[o.Unspecified=0]="Unspecified",o[o.Yes=1]="Yes",o[o.No=2]="No",o))(da||{}),pa=(u=>(u[u.Unspecified=0]="Unspecified",u[u.CreateSubnet=1]="CreateSubnet",u[u.AddNodeToSubnet=2]="AddNodeToSubnet",u[u.NnsCanisterInstall=3]="NnsCanisterInstall",u[u.NnsCanisterUpgrade=4]="NnsCanisterUpgrade",u[u.BlessReplicaVersion=5]="BlessReplicaVersion",u[u.RecoverSubnet=6]="RecoverSubnet",u[u.UpdateConfigOfSubnet=7]="UpdateConfigOfSubnet",u[u.AssignNoid=8]="AssignNoid",u[u.NnsRootUpgrade=9]="NnsRootUpgrade",u[u.IcpXdrConversionRate=10]="IcpXdrConversionRate",u[u.UpdateSubnetReplicaVersion=11]="UpdateSubnetReplicaVersion",u[u.ClearProvisionalWhitelist=12]="ClearProvisionalWhitelist",u[u.RemoveNodesFromSubnet=13]="RemoveNodesFromSubnet",u[u.SetAuthorizedSubnetworks=14]="SetAuthorizedSubnetworks",u[u.SetFirewallConfig=15]="SetFirewallConfig",u[u.UpdateNodeOperatorConfig=16]="UpdateNodeOperatorConfig",u[u.StopOrStartNnsCanister=17]="StopOrStartNnsCanister",u[u.RemoveNodes=18]="RemoveNodes",u[u.UninstallCode=19]="UninstallCode",u[u.UpdateNodeRewardsTable=20]="UpdateNodeRewardsTable",u[u.AddOrRemoveDataCenters=21]="AddOrRemoveDataCenters",u[u.UpdateUnassignedNodesConfig=22]="UpdateUnassignedNodesConfig",u[u.RemoveNodeOperators=23]="RemoveNodeOperators",u[u.RerouteCanisterRanges=24]="RerouteCanisterRanges",u[u.AddFirewallRules=25]="AddFirewallRules",u[u.RemoveFirewallRules=26]="RemoveFirewallRules",u[u.UpdateFirewallRules=27]="UpdateFirewallRules",u[u.PrepareCanisterMigration=28]="PrepareCanisterMigration",u[u.CompleteCanisterMigration=29]="CompleteCanisterMigration",u[u.AddSnsWasm=30]="AddSnsWasm",u[u.ChangeSubnetMembership=31]="ChangeSubnetMembership",u[u.UpdateSubnetType=32]="UpdateSubnetType",u[u.ChangeSubnetTypeAssignment=33]="ChangeSubnetTypeAssignment",u[u.UpdateSnsWasmSnsSubnetIds=34]="UpdateSnsWasmSnsSubnetIds",u[u.UpdateAllowedPrincipals=35]="UpdateAllowedPrincipals",u[u.RetireReplicaVersion=36]="RetireReplicaVersion",u[u.InsertSnsWasmUpgradePathEntries=37]="InsertSnsWasmUpgradePathEntries",u[u.UpdateElectedReplicaVersions=38]="UpdateElectedReplicaVersions",u[u.BitcoinSetConfig=39]="BitcoinSetConfig",u))(pa||{});var On=({neuronId:e,neuronInfo:t,rawNeuron:n,canisterId:o})=>{let r=n?fa({neuron:n,canisterId:o}):void 0;return{neuronId:e,dissolveDelaySeconds:t.dissolve_delay_seconds,recentBallots:t.recent_ballots.map(Jo),createdTimestampSeconds:t.created_timestamp_seconds,state:t.state,joinedCommunityFundTimestampSeconds:t.joined_community_fund_timestamp_seconds.length?t.joined_community_fund_timestamp_seconds[0]:void 0,retrievedAtTimestampSeconds:t.retrieved_at_timestamp_seconds,votingPower:t.voting_power,ageSeconds:t.age_seconds,fullNeuron:r}},fa=({neuron:e,canisterId:t})=>({id:e.id.length?X(e.id[0]):void 0,stakedMaturityE8sEquivalent:p(e.staked_maturity_e8s_equivalent),controller:e.controller.length?e.controller[0].toString():void 0,recentBallots:e.recent_ballots.map(Jo),kycVerified:e.kyc_verified,notForProfit:e.not_for_profit,cachedNeuronStake:e.cached_neuron_stake_e8s,createdTimestampSeconds:e.created_timestamp_seconds,autoStakeMaturity:p(e.auto_stake_maturity),maturityE8sEquivalent:e.maturity_e8s_equivalent,agingSinceTimestampSeconds:e.aging_since_timestamp_seconds,neuronFees:e.neuron_fees_e8s,hotKeys:e.hot_keys.map(n=>n.toString()),accountIdentifier:oo(t,e.account),joinedCommunityFundTimestampSeconds:e.joined_community_fund_timestamp_seconds.length?e.joined_community_fund_timestamp_seconds[0]:void 0,dissolveState:e.dissolve_state.length?wa(e.dissolve_state[0]):void 0,spawnAtTimesSeconds:e.spawn_at_timestamp_seconds[0],followees:e.followees.map(([n,o])=>$o({topic:n,followees:o}))}),Jo=({vote:e,proposal_id:t})=>({vote:e,proposalId:t.length?X(t[0]):void 0}),wa=e=>"DissolveDelaySeconds"in e?{DissolveDelaySeconds:e.DissolveDelaySeconds}:{WhenDissolvedTimestampSeconds:e.WhenDissolvedTimestampSeconds},$o=({topic:e,followees:t})=>({topic:e,followees:t.followees.map(X)}),X=({id:e})=>e,Na=e=>{if("NeuronId"in e)return{NeuronId:e.NeuronId.id};if("Subaccount"in e)return{Subaccount:ma(e.Subaccount)};throw new v(e)},ya=({neuronId:e,ballot:t})=>{let{vote:n,voting_power:o}=t;return{neuronId:e,vote:n,votingPower:o}},ga=({title:e,url:t,action:n,summary:o})=>({title:e.length?e[0]:void 0,url:t,action:n.length?Xo(n[0]):void 0,summary:o}),Xo=e=>{if("ExecuteNnsFunction"in e)return{ExecuteNnsFunction:{nnsFunctionId:e.ExecuteNnsFunction.nns_function}};if("ManageNeuron"in e){let t=e.ManageNeuron;return{ManageNeuron:{id:t.id.length?X(t.id[0]):void 0,command:t.command.length?va(t.command[0]):void 0,neuronIdOrSubaccount:t.neuron_id_or_subaccount.length?Na(t.neuron_id_or_subaccount[0]):void 0}}}if("ApproveGenesisKyc"in e)return{ApproveGenesisKyc:{principals:e.ApproveGenesisKyc.principals.map(n=>n.toString())}};if("ManageNetworkEconomics"in e){let t=e.ManageNetworkEconomics;return{ManageNetworkEconomics:{neuronMinimumStake:t.neuron_minimum_stake_e8s,maxProposalsToKeepPerTopic:t.max_proposals_to_keep_per_topic,neuronManagementFeePerProposal:t.neuron_management_fee_per_proposal_e8s,rejectCost:t.reject_cost_e8s,transactionFee:t.transaction_fee_e8s,neuronSpawnDissolveDelaySeconds:t.neuron_spawn_dissolve_delay_seconds,minimumIcpXdrRate:t.minimum_icp_xdr_rate,maximumNodeProviderRewards:t.maximum_node_provider_rewards_e8s}}}if("RewardNodeProvider"in e){let t=e.RewardNodeProvider;return{RewardNodeProvider:{nodeProvider:t.node_provider.length?He(t.node_provider[0]):void 0,amountE8s:t.amount_e8s,rewardMode:t.reward_mode.length?Go(t.reward_mode[0]):void 0}}}if("RewardNodeProviders"in e){let t=e.RewardNodeProviders;return{RewardNodeProviders:{useRegistryDerivedRewards:t.use_registry_derived_rewards.length?t.use_registry_derived_rewards[0]:void 0,rewards:t.rewards.map(n=>({nodeProvider:n.node_provider.length?He(n.node_provider[0]):void 0,amountE8s:n.amount_e8s,rewardMode:n.reward_mode.length?Go(n.reward_mode[0]):void 0}))}}}if("AddOrRemoveNodeProvider"in e){let t=e.AddOrRemoveNodeProvider;return{AddOrRemoveNodeProvider:{change:t.change.length?Oa(t.change[0]):void 0}}}if("Motion"in e)return{Motion:{motionText:e.Motion.motion_text}};if("SetDefaultFollowees"in e)return{SetDefaultFollowees:{defaultFollowees:e.SetDefaultFollowees.default_followees.map(([n,o])=>$o({topic:n,followees:o}))}};if("RegisterKnownNeuron"in e){let t=e.RegisterKnownNeuron;return{RegisterKnownNeuron:xa(t)}}if("SetSnsTokenSwapOpenTimeWindow"in e){let t=e.SetSnsTokenSwapOpenTimeWindow,n=t.request?.length?{openTimeWindow:t.request[0].open_time_window.length?{startTimestampSeconds:t.request[0].open_time_window[0].start_timestamp_seconds,endTimestampSeconds:t.request[0].open_time_window[0].end_timestamp_seconds}:void 0}:void 0,o=t?.swap_canister_id.length?t.swap_canister_id[0].toString():void 0;return{SetSnsTokenSwapOpenTimeWindow:{request:n,swapCanisterId:o}}}if("OpenSnsTokenSwap"in e){let t=e.OpenSnsTokenSwap,n=p(t.params);return{OpenSnsTokenSwap:{communityFundInvestmentE8s:p(t.community_fund_investment_e8s),targetSwapCanisterId:p(t.target_swap_canister_id),...n!==void 0&&{params:{minParticipantIcpE8s:n.min_participant_icp_e8s,maxIcpE8s:n.max_icp_e8s,swapDueTimestampSeconds:n.swap_due_timestamp_seconds,minParticipants:n.min_participants,snsTokenE8s:n.sns_token_e8s,maxParticipantIcpE8s:n.max_participant_icp_e8s,minIcpE8s:n.min_icp_e8s,saleDelaySeconds:p(n.sale_delay_seconds),neuronBasketConstructionParameters:p(n.neuron_basket_construction_parameters)}}}}}if("CreateServiceNervousSystem"in e){let t=e.CreateServiceNervousSystem;return{CreateServiceNervousSystem:{url:p(t.url),governanceParameters:Ba(p(t.governance_parameters)),fallbackControllerPrincipalIds:t.fallback_controller_principal_ids.map(n=>n.toString()),logo:Do(p(t.logo)),name:p(t.name),ledgerParameters:Ea(p(t.ledger_parameters)),description:p(t.description),dappCanisters:t.dapp_canisters.map(Va)??[],swapParameters:Ua(p(t.swap_parameters)),initialTokenDistribution:Wa(p(t.initial_token_distribution))}}}throw new v(e)},Ra=e=>({no:e.no,yes:e.yes,total:e.total,timestampSeconds:e.timestamp_seconds}),va=e=>{if("Spawn"in e){let t=e.Spawn;return{Spawn:{newController:t.new_controller.length?t.new_controller[0].toString():void 0,percentageToSpawn:t.percentage_to_spawn.length?t.percentage_to_spawn[0]:0}}}if("Split"in e)return{Split:{amount:e.Split.amount_e8s}};if("Follow"in e){let t=e.Follow;return{Follow:{topic:t.topic,followees:t.followees.map(X)}}}if("ClaimOrRefresh"in e){let t=e.ClaimOrRefresh;return{ClaimOrRefresh:{by:t.by.length?ba(t.by[0]):void 0}}}if("Configure"in e){let t=e.Configure;return{Configure:{operation:t.operation.length?ha(t.operation[0]):void 0}}}if("RegisterVote"in e){let t=e.RegisterVote;return{RegisterVote:{vote:t.vote,proposal:t.proposal.length?X(t.proposal[0]):void 0}}}if("DisburseToNeuron"in e){let t=e.DisburseToNeuron;return{DisburseToNeuron:{dissolveDelaySeconds:t.dissolve_delay_seconds,kycVerified:t.kyc_verified,amount:t.amount_e8s,newController:t.new_controller.length?t.new_controller[0].toString():void 0,nonce:t.nonce}}}if("MergeMaturity"in e)return{MergeMaturity:{percentageToMerge:e.MergeMaturity.percentage_to_merge}};if("StakeMaturity"in e){let{percentage_to_stake:t}=e.StakeMaturity;return{StakeMaturity:{percentageToStake:p(t)}}}if("MakeProposal"in e){let t=e.MakeProposal;return{MakeProposal:{title:t.title.length?t.title[0]:void 0,url:t.url,action:t.action.length?Xo(t.action[0]):void 0,summary:t.summary}}}if("Disburse"in e){let t=e.Disburse;return{Disburse:{toAccountId:t.to_account.length?Sn(t.to_account[0]):void 0,amount:t.amount.length?Sa(t.amount[0]):void 0}}}if("Merge"in e){let t=e.Merge;return{Merge:{sourceNeuronId:t.source_neuron_id.length?t.source_neuron_id[0].id:void 0}}}throw new v(e)},ha=e=>{if("RemoveHotKey"in e){let t=e.RemoveHotKey;return{RemoveHotKey:{hotKeyToRemove:t.hot_key_to_remove.length?t.hot_key_to_remove[0].toString():void 0}}}if("AddHotKey"in e){let t=e.AddHotKey;return{AddHotKey:{newHotKey:t.new_hot_key.length?t.new_hot_key[0].toString():void 0}}}if("StopDissolving"in e)return{StopDissolving:{}};if("StartDissolving"in e)return{StartDissolving:{}};if("IncreaseDissolveDelay"in e)return{IncreaseDissolveDelay:{additionalDissolveDelaySeconds:e.IncreaseDissolveDelay.additional_dissolve_delay_seconds}};if("JoinCommunityFund"in e||"LeaveCommunityFund"in e)return e;if("SetDissolveTimestamp"in e)return{SetDissolveTimestamp:{dissolveTimestampSeconds:e.SetDissolveTimestamp.dissolve_timestamp_seconds}};if("ChangeAutoStakeMaturity"in e){let{requested_setting_for_auto_stake_maturity:t}=e.ChangeAutoStakeMaturity;return{ChangeAutoStakeMaturity:{requestedSettingForAutoStakeMaturity:t}}}throw new v(e)},Oa=e=>{if("ToRemove"in e)return{ToRemove:He(e.ToRemove)};if("ToAdd"in e)return{ToAdd:He(e.ToAdd)};throw new v(e)},He=e=>({id:e.id.length?e.id[0].toString():void 0,rewardAccount:e.reward_account.length?Sn(e.reward_account[0]):void 0}),Sa=e=>e.e8s,Sn=e=>no(new Uint8Array(e.hash)),Go=e=>{if("RewardToNeuron"in e)return{RewardToNeuron:{dissolveDelaySeconds:e.RewardToNeuron.dissolve_delay_seconds}};if("RewardToAccount"in e)return{RewardToAccount:{toAccount:e.RewardToAccount.to_account!=null&&e.RewardToAccount.to_account.length?Sn(e.RewardToAccount.to_account[0]):void 0}};throw new v(e)},ba=e=>{if("NeuronIdOrSubaccount"in e)return{NeuronIdOrSubaccount:{}};if("Memo"in e)return{Memo:e.Memo};if("MemoAndController"in e)return{MemoAndController:{memo:e.MemoAndController.memo,controller:e.MemoAndController.controller.length?e.MemoAndController.controller[0]:void 0}};throw new v(e)},bn=e=>({id:e.id.length?X(e.id[0]):void 0,ballots:e.ballots.map(t=>ya({neuronId:t[0],ballot:t[1]})),rejectCost:e.reject_cost_e8s,proposalTimestampSeconds:e.proposal_timestamp_seconds,rewardEventRound:e.reward_event_round,failedTimestampSeconds:e.failed_timestamp_seconds,deadlineTimestampSeconds:p(e.deadline_timestamp_seconds),decidedTimestampSeconds:e.decided_timestamp_seconds,proposal:e.proposal.length?ga(e.proposal[0]):void 0,proposer:e.proposer.length?X(e.proposer[0]):void 0,latestTally:e.latest_tally.length?Ra(e.latest_tally[0]):void 0,executedTimestampSeconds:e.executed_timestamp_seconds,topic:e.topic,status:e.status,rewardStatus:e.reward_status}),Yo=({response:{neuron_infos:e,full_neurons:t},canisterId:n})=>e.map(([o,r])=>On({neuronId:o,neuronInfo:r,rawNeuron:t.find(a=>a.id.length&&a.id[0].id===o),canisterId:n})),Qo=({proposal_info:e})=>({proposals:e.map(bn)}),xa=({id:e,known_neuron_data:t})=>({id:e[0]?.id??BigInt(0),name:t[0]?.name??"",description:t[0]?.description[0]??""}),Zo=e=>{let t=e.getProposalId();return{vote:e.getVote(),proposalId:t!==void 0?BigInt(t.getId()):void 0}},ka=e=>e?.hasWhenDissolvedTimestampSeconds()?2:e?.hasDissolveDelaySeconds()?e.getDissolveDelaySeconds()==="0"?3:1:0,Ta=e=>e.toArray().map(([t,n])=>({topic:Number(t),followees:n.getFolloweesList?.().map(o=>BigInt(o.getId()))??[]})),jo=e=>la.fromUint8Array(e.getSerializedId_asU8()).toText(),Ca=({neuron:e,canisterId:t})=>{let n=Te.fromBytes(e.getAccount_asU8());return te.fromPrincipal({principal:t,subAccount:n})},Pa=({pbNeuron:e,pbNeuronInfo:t,canisterId:n})=>{let o=e.getId(),r=e.getController(),a=r===void 0?r:jo(r),i;return e.hasWhenDissolvedTimestampSeconds()?i={WhenDissolvedTimestampSeconds:BigInt(e.getWhenDissolvedTimestampSeconds())}:e.hasDissolveDelaySeconds()&&(i={DissolveDelaySeconds:BigInt(e.getDissolveDelaySeconds())}),{id:o===void 0?void 0:BigInt(o.getId()),stakedMaturityE8sEquivalent:void 0,controller:a,recentBallots:t.getRecentBallotsList().map(Zo),kycVerified:e.getKycVerified(),notForProfit:e.getNotForProfit(),cachedNeuronStake:BigInt(e.getCachedNeuronStakeE8s()),createdTimestampSeconds:BigInt(e.getCreatedTimestampSeconds()),autoStakeMaturity:void 0,maturityE8sEquivalent:BigInt(e.getMaturityE8sEquivalent()),agingSinceTimestampSeconds:BigInt(e.getAgingSinceTimestampSeconds()),spawnAtTimesSeconds:e.hasSpawnAtTimestampSeconds()?BigInt(e.getSpawnAtTimestampSeconds()):void 0,neuronFees:BigInt(e.getNeuronFeesE8s()),hotKeys:e.getHotKeysList().map(jo),accountIdentifier:Ca({neuron:e,canisterId:n}).toHex(),joinedCommunityFundTimestampSeconds:void 0,dissolveState:i,followees:Ta(e.getFolloweesMap())}},Io=({pbNeurons:e,canisterId:t})=>n=>{let o=e.find(a=>a.getId()?.getId()===n.getKey()),r=n.getValue();if(r===void 0)throw new Error(`NeuronInfo not present for neuron ${n.getKey()}`);return{neuronId:BigInt(n.getKey()),dissolveDelaySeconds:BigInt(r.getDissolveDelaySeconds()),recentBallots:r.getRecentBallotsList().map(Zo),createdTimestampSeconds:BigInt(r.getCreatedTimestampSeconds()),state:ka(o),joinedCommunityFundTimestampSeconds:void 0,retrievedAtTimestampSeconds:BigInt(r.getRetrievedAtTimestampSeconds()),votingPower:BigInt(r.getVotingPower()),ageSeconds:BigInt(r.getAgeSeconds()),fullNeuron:o===void 0?void 0:Pa({pbNeuron:o,pbNeuronInfo:r,canisterId:t})}},We=e=>e===void 0?void 0:{basisPoints:p(e.basis_points)},q=e=>e===void 0?void 0:{seconds:p(e.seconds)},Ma=e=>e===void 0?void 0:{secondsAfterUtcMidnight:p(e.seconds_after_utc_midnight)},Aa=e=>e===void 0?void 0:{isoCodes:e.iso_codes},U=e=>e===void 0?void 0:{e8s:p(e.e8s)},Va=e=>e===void 0||e.id.length===0?void 0:_a(e.id).toString(),Do=e=>e===void 0?void 0:{base64Encoding:p(e.base64_encoding)},Ea=e=>e===void 0?void 0:{transactionFee:U(p(e.transaction_fee)),tokenSymbol:p(e.token_symbol),tokenLogo:Do(p(e.token_logo)),tokenName:p(e.token_name)},Fa=e=>e===void 0?void 0:{rewardRateTransitionDuration:q(p(e.reward_rate_transition_duration)),initialRewardRate:We(p(e.initial_reward_rate)),finalRewardRate:We(p(e.final_reward_rate))},Ba=e=>e===void 0?void 0:{neuronMaximumDissolveDelayBonus:We(p(e.neuron_maximum_dissolve_delay_bonus)),neuronMaximumAgeForAgeBonus:q(p(e.neuron_maximum_age_for_age_bonus)),neuronMaximumDissolveDelay:q(p(e.neuron_maximum_dissolve_delay)),neuronMinimumDissolveDelayToVote:q(p(e.neuron_minimum_dissolve_delay_to_vote)),neuronMaximumAgeBonus:We(p(e.neuron_maximum_age_bonus)),neuronMinimumStake:U(p(e.neuron_minimum_stake)),proposalWaitForQuietDeadlineIncrease:q(p(e.proposal_wait_for_quiet_deadline_increase)),proposalInitialVotingPeriod:q(p(e.proposal_initial_voting_period)),proposalRejectionFee:U(p(e.proposal_rejection_fee)),votingRewardParameters:Fa(p(e.voting_reward_parameters))},qa=e=>e===void 0?void 0:{dissolveDelayInterval:q(p(e.dissolve_delay_interval)),count:p(e.count)},Ua=e=>e===void 0?void 0:{minimumParticipants:p(e.minimum_participants),duration:q(p(e.duration)),neuronBasketConstructionParameters:qa(p(e.neuron_basket_construction_parameters)),confirmationText:p(e.confirmation_text),maximumParticipantIcp:U(p(e.maximum_participant_icp)),neuronsFundInvestmentIcp:U(p(e.neurons_fund_investment_icp)),minimumIcp:U(p(e.minimum_icp)),minimumParticipantIcp:U(p(e.minimum_participant_icp)),startTime:Ma(p(e.start_time)),maximumIcp:U(p(e.maximum_icp)),restrictedCountries:Aa(p(e.restricted_countries))},zo=e=>e===void 0?void 0:{total:U(p(e.total))},Ka=e=>e===void 0?void 0:{controller:e.controller.length===0?void 0:e.controller[0].toString(),dissolveDelay:q(p(e.dissolve_delay)),memo:p(e.memo),vestingPeriod:q(p(e.vesting_period)),stake:U(p(e.stake))},Ha=e=>e===void 0?void 0:{developerNeurons:e.developer_neurons.map(Ka)},Wa=e=>e===void 0?void 0:{treasuryDistribution:zo(p(e.treasury_distribution)),developerDistribution:Ha(p(e.developer_distribution)),swapDistribution:zo(p(e.swap_distribution))};var Lo=async e=>{let{ManageNeuronResponse:t}=await S(),o=t.deserializeBinary(e).getError();if(o)throw new P({error_message:o.getErrorMessage(),error_type:o.getErrorType()})};var xe=e=>{let{command:t}=e,n=t[0];if(!n)throw new P({error_message:"Error updating neuron",error_type:0});if("Error"in n)throw new P(n.Error);return n},h=async({request:e,service:t})=>{let n=await t.manage_neuron(e);xe(n)},er=async({request:e,service:t})=>{let n=await t.simulate_manage_neuron(e);return xe(n)};import{bigEndianCrc32 as Ga}from"@dfinity/utils";var xn=e=>{if(e.length!=64)throw new be(`Invalid account identifier ${e}. The account identifier must be 64 chars in length.`);let t=Buffer.from(e,"hex"),n=t.slice(0,4),o=Buffer.from(Ga(t.slice(4)));if(!o.equals(n))throw new be(`Account identifier ${e} has an invalid checksum. Are you sure the account identifier is correct?

Expected checksum: ${o.toString("hex")}
Found checksum: ${n.toString("hex")}`)};var Ge=class{constructor(t,n,o,r,a=!1){this.canisterId=t;this.service=n;this.certifiedService=o;this.agent=r;this.hardwareWallet=a;this.canisterId=t,this.service=n,this.certifiedService=o,this.agent=r,this.hardwareWallet=a}static create(t={}){let n=t.canisterId??Mn,{service:o,certifiedService:r,agent:a}=Ja({options:{...t,canisterId:n},idlFactory:eo,certifiedIdlFactory:Ln});return new Ge(n,o,r,a,t.hardwareWallet)}listNeurons=async({certified:t=!0,neuronIds:n})=>{if(this.hardwareWallet&&!t)throw new qe;if(this.hardwareWallet)return this.listNeuronsHardwareWallet();let o=po(n),r=await this.getGovernanceService(t).list_neurons(o);return Yo({response:r,canisterId:this.canisterId})};listKnownNeurons=async(t=!0)=>(await this.getGovernanceService(t).list_known_neurons()).known_neurons.map(o=>({id:x(o.id)?.id??BigInt(0),name:x(o.known_neuron_data)?.name??"",description:x(x(o.known_neuron_data)?.description??[])}));getLastestRewardEvent=async(t=!0)=>this.getGovernanceService(t).get_latest_reward_event();listProposals=async({request:t,certified:n=!0})=>{let o=lo(t),r=await this.getGovernanceService(n).list_proposals(o);return Qo(r)};stakeNeuron=async({stake:t,principal:n,fromSubAccount:o,ledgerCanister:r,createdAt:a,fee:i})=>{if(t<An)throw new Be(t);let c=new Uint8Array((0,nr.default)(8)),d=$a(c),m=this.buildNeuronStakeSubAccount(c,n),f=te.fromPrincipal({principal:this.canisterId,subAccount:m});await r.transfer({memo:d,amount:t,fromSubAccount:o,to:f,createdAt:a,fee:i});let _=await this.claimOrRefreshNeuronFromAccount({controller:n,memo:d});if(tr(_))throw new Fe;return _};increaseDissolveDelay=async({neuronId:t,additionalDissolveDelaySeconds:n})=>{if(this.hardwareWallet)return this.increaseDissolveDelayHardwareWallet({neuronId:t,additionalDissolveDelaySeconds:n});let o=bo({neuronId:t,additionalDissolveDelaySeconds:n});return h({request:o,service:this.certifiedService})};setDissolveDelay=async({neuronId:t,dissolveDelaySeconds:n})=>{let o=xo({neuronId:t,dissolveDelaySeconds:n});return h({request:o,service:this.certifiedService})};startDissolving=async t=>{if(this.hardwareWallet)return this.startDissolvingHardwareWallet(t);let n=Po(t);return h({request:n,service:this.certifiedService})};stopDissolving=async t=>{if(this.hardwareWallet)return this.stopDissolvingHardwareWallet(t);let n=Mo(t);return h({request:n,service:this.certifiedService})};joinCommunityFund=async t=>{if(this.hardwareWallet)return this.joinCommunityFundHardwareWallet(t);let n=ko(t);return h({request:n,service:this.certifiedService})};autoStakeMaturity=t=>h({request:To(t),service:this.certifiedService});leaveCommunityFund=async t=>{let n=Co(t);return h({request:n,service:this.certifiedService})};setNodeProviderAccount=async t=>{xn(t);let n=te.fromHex(t),o=await this.certifiedService.update_node_provider({reward_account:[n.toAccountIdentifierHash()]});if("Err"in o)throw new P(o.Err)};mergeNeurons=async t=>{let n=vn(t);return h({request:n,service:this.certifiedService})};simulateMergeNeurons=async t=>{let n=vn(t),o=await er({request:n,service:this.certifiedService}),r,a,i,c;if("Merge"in o&&M(r=o.Merge)&&M(a=x(r.target_neuron_info))&&M(i=x(r.target_neuron))&&M(c=x(i.id)?.id))return On({neuronId:c,neuronInfo:a,rawNeuron:i,canisterId:this.canisterId});throw new z(`simulateMergeNeurons: Unrecognized Merge error in ${JSON.stringify(o)}`)};splitNeuron=async({neuronId:t,amount:n})=>{let o=fo({neuronId:t,amount:n}),r=await this.certifiedService.manage_neuron(o),a=xe(r);if("Split"in a){let i=x(a.Split.created_neuron_id);if(tr(i))throw new P({error_message:"Unexpected error splitting neuron. No neuronId in Split response.",error_type:0});return i.id}throw new z(`Unrecognized Split error in ${JSON.stringify(r)}`)};getProposal=async({proposalId:t,certified:n=!0})=>{let[o]=await this.getGovernanceService(n).get_proposal_info(t);return o?bn(o):void 0};makeProposal=async t=>{let n=No(t);return h({request:n,service:this.certifiedService})};registerVote=async({neuronId:t,vote:n,proposalId:o})=>{let r=wo({neuronId:t,vote:n,proposalId:o});return h({request:r,service:this.certifiedService})};setFollowees=async t=>{let n=yo(t);return h({request:n,service:this.certifiedService})};disburse=async({neuronId:t,toAccountId:n,amount:o})=>{if(M(n)&&xn(n),this.hardwareWallet)return this.disburseHardwareWallet({neuronId:t,toAccountId:n,amount:o});let r=M(n)?te.fromHex(n):void 0,a=go({neuronId:t,toAccountIdentifier:r,amount:o});return h({request:a,service:this.certifiedService})};mergeMaturity=async({neuronId:t,percentageToMerge:n})=>{if(kn(n),this.hardwareWallet)return this.mergeMaturityHardwareWallet({neuronId:t,percentageToMerge:n});let o=Ro({neuronId:t,percentageToMerge:n});return h({request:o,service:this.certifiedService})};stakeMaturity=async({neuronId:t,percentageToStake:n})=>{kn(n??100),await h({request:vo({neuronId:t,percentageToStake:n}),service:this.certifiedService})};spawnNeuron=async({neuronId:t,percentageToSpawn:n,newController:o,nonce:r})=>{if(M(n)&&kn(n),this.hardwareWallet)return this.spawnHardwareWallet({neuronId:t,percentageToSpawn:n,newController:o?.toText()});let a=ho({neuronId:t,percentageToSpawn:n,newController:o,nonce:r}),i=await this.certifiedService.manage_neuron(a),c=xe(i),d;if("Spawn"in c&&M(d=x(c.Spawn.created_neuron_id)?.id))return d;throw new z(`Unrecognized Spawn error in ${JSON.stringify(i)}`)};addHotkey=async({neuronId:t,principal:n})=>{if(this.hardwareWallet)return this.addHotkeyHardwareWallet({neuronId:t,principal:n});let o=Oo({neuronId:t,principal:n});return h({request:o,service:this.certifiedService})};removeHotkey=async({neuronId:t,principal:n})=>{if(this.hardwareWallet)return this.removeHotkeyHardwareWallet({neuronId:t,principal:n});let o=So({neuronId:t,principal:n});return h({request:o,service:this.certifiedService})};claimOrRefreshNeuronFromAccount=async({memo:t,controller:n})=>{let o=mo({memo:t,controller:n}),r=await this.certifiedService.manage_neuron(o),a;if(M(a=x(r.command))&&"ClaimOrRefresh"in a)return x(a.ClaimOrRefresh.refreshed_neuron_id)?.id;throw new z(`Unrecognized ClaimOrRefresh error in ${JSON.stringify(r)}`)};claimOrRefreshNeuron=async t=>{let n=_o(t),o=await this.service.manage_neuron(n),r;if(M(r=x(o.command))&&"ClaimOrRefresh"in r)return x(r.ClaimOrRefresh.refreshed_neuron_id)?.id;throw new z(`Unrecognized ClaimOrRefresh error in ${JSON.stringify(o)}`)};buildNeuronStakeSubAccount=(t,n)=>{let o=za("neuron-stake"),r=Cn.create();return r.update(ja([12,...o,...n.toUint8Array(),...t])),Te.fromBytes(r.digest())};getGovernanceService(t){return t?this.certifiedService:this.service}getNeuron=async({certified:t=!0,neuronId:n})=>{let[o]=await this.listNeurons({certified:t,neuronIds:[n]});return o};listNeuronsHardwareWallet=async()=>{let{ListNeurons:t,ListNeuronsResponse:n}=await S(),o=new t;o.setIncludeNeuronsReadableByCaller(!0);let r=await ke({agent:this.agent,canisterId:this.canisterId,methodName:"list_neurons_pb",arg:o.serializeBinary()}),a=n.deserializeBinary(r),i=a.getFullNeuronsList();return a.getNeuronIdsList().map(Io({pbNeurons:i,canisterId:this.canisterId}))};manageNeuronUpdateCall=async t=>{let n=await ke({agent:this.agent,canisterId:this.canisterId,methodName:"manage_neuron_pb",arg:t.serializeBinary()});await Lo(n)};addHotkeyHardwareWallet=async({neuronId:t,principal:n})=>{let o=await Ao({neuronId:t,principal:n.toText()});await this.manageNeuronUpdateCall(o)};removeHotkeyHardwareWallet=async({neuronId:t,principal:n})=>{let o=await Vo({neuronId:t,principal:n.toText()});await this.manageNeuronUpdateCall(o)};increaseDissolveDelayHardwareWallet=async({neuronId:t,additionalDissolveDelaySeconds:n})=>{let o=await Eo({neuronId:t,additionalDissolveDelaySeconds:n});await this.manageNeuronUpdateCall(o)};startDissolvingHardwareWallet=async t=>{let n=await Fo(t);await this.manageNeuronUpdateCall(n)};stopDissolvingHardwareWallet=async t=>{let n=await Bo(t);await this.manageNeuronUpdateCall(n)};joinCommunityFundHardwareWallet=async t=>{let n=await qo(t);await this.manageNeuronUpdateCall(n)};disburseHardwareWallet=async t=>{let n=await Uo(t);await this.manageNeuronUpdateCall(n)};mergeMaturityHardwareWallet=async t=>{let n=await Ko(t);await this.manageNeuronUpdateCall(n)};spawnHardwareWallet=async t=>{let n=await Ho(t),o=await ke({agent:this.agent,canisterId:this.canisterId,methodName:"manage_neuron_pb",arg:n.serializeBinary()}),{ManageNeuronResponse:r}=await S(),a=r.deserializeBinary(o),i=a.getError();if(i)throw new P({error_message:i.getErrorMessage(),error_type:i.getErrorType()});let c=a.getSpawn()?.getCreatedNeuronId();if(M(c))return BigInt(c.getId());throw new z(`Unrecognized Spawn error in ${JSON.stringify(a)}`)}};export{Ee as a,Fe as b,Be as c,z as d,P as e,be as f,v as g,qe as h,to as i,no as j,oo as k,Wo as l,sa as m,ca as n,ua as o,da as p,pa as q,xn as r,Ge as s};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
//# sourceMappingURL=chunk-V7YCXQVA.js.map
